#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ” Running pre-commit checks..."

# Run text error detection and auto-fix
echo "ğŸ“ Checking for text string errors..."
node scripts/auto-fix-text-errors.cjs

# Run existing linting
echo "ğŸ§¹ Running linter..."
npm run lint

# Run existing tests if they exist
if npm run test 2>/dev/null; then
  echo "âœ… Tests passed"
else
  echo "âš ï¸  No tests configured or tests failed"
fi

echo "âœ… Pre-commit checks completed!" 