/* Import semantic class system first */
@import './theme/semantic-classes.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

/* GLOBAL TOAST STYLING - HIGHEST PRIORITY */
/* Toast container with 80vw width and z-index 9999 - applies globally */
.toast-container {
  width: 80vw !important;
  max-width: 80vw !important;
  z-index: 9999 !important;
}

/* Toast notification styling with high opacity backgrounds */
.toast-container > * {
  background: rgba(0, 0, 0, 0.95) !important;
  border: 1px solid rgba(255, 255, 255, 0.2) !important;
  backdrop-filter: blur(12px) !important;
}

.toast-container .destructive {
  background: rgba(220, 38, 38, 0.95) !important;
  border: 1px solid rgba(255, 255, 255, 0.2) !important;
}

/* Custom height utilities */
.h-13 {
  height: 3.25rem; /* 52px */
}

/* Force 8px border radius on special bin cards - higher specificity than fluid-theme */
.fluid-theme .bin-card.special-bin-card,
.fluid-theme .special-bin-card.bin-card,
.special-bin-card.bin-card,
.bin-card.special-bin-card {
  border-radius: 8px !important;
}

/* Force 8px border radius on special tag chips - higher specificity than fluid-theme */
.fluid-theme .tag-chip.special-tag-chip,
.fluid-theme .special-tag-chip.tag-chip,
.special-tag-chip.tag-chip,
.tag-chip.special-tag-chip,
.fluid-theme .tag-chip.special-tag-chip.selected,
.fluid-theme .special-tag-chip.tag-chip.selected,
.special-tag-chip.tag-chip.selected,
.tag-chip.special-tag-chip.selected {
  border-radius: 8px !important;
}

/* Optimized font declarations with consistent paths */
@font-face {
  font-family: 'Ubuntu';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: url('/fonts/Ubuntu-Regular.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Ubuntu';
  font-style: normal;
  font-weight: 500;
  font-display: swap;
  src: url('/fonts/Ubuntu-Medium-500.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Oswald';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: url('/fonts/Oswald-Bold.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

/* iOS Safe Area and WebView Optimizations */
html, body {
  height: 100%;
  margin: 0;
  padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
  box-sizing: border-box;
  overflow-x: hidden;
}

.safe-area {
  padding-top: env(safe-area-inset-top);
  padding-bottom: env(safe-area-inset-bottom);
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
}

.full-height {
  min-height: calc(100vh + env(safe-area-inset-top) + env(safe-area-inset-bottom));
}

@supports (-webkit-touch-callout: none) {
  :root {
    /* iOS-specific font optimization */
    -webkit-text-size-adjust: 100%;
    -webkit-tap-highlight-color: transparent;
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    user-select: none;
  }
  
  /* Native-feeling scroll physics */
  * {
    -webkit-overflow-scrolling: touch;
    scroll-behavior: smooth;
  }
  
  /* Prevent zoom on input focus */
  input, textarea, select {
    font-size: 16px !important;
    -webkit-user-select: text;
    user-select: text;
  }
  
  /* Remove iOS input styling */
  input[type="text"], input[type="email"], input[type="password"], textarea {
    -webkit-appearance: none;
    -webkit-border-radius: 0;
    border-radius: 0;
  }
}

@keyframes pulse {
  0% {
    opacity: 0.4;
    transform: scale(1);
  }
  50% {
    opacity: 0.8;
    transform: scale(1.1);
  }
  100% {
    opacity: 0.4;
    transform: scale(1);
  }
}

/* Base font declarations moved to semantic classes */

/* Responsive with max-width constraint - moved to semantic classes */

/* Layout styles moved to semantic class system */

/* Force Oswald font for site titles */
.site-title {
  font-family: 'Oswald', sans-serif !important;
  font-weight: 700 !important;
  text-transform: uppercase !important;
  letter-spacing: -0.02em !important;
}

/* Section titles styling - Override all Tailwind styles */
h2.section-title,
.section-title {
  font-family: 'Ubuntu', sans-serif !important;
  font-weight: 500 !important;
  font-size: 1.1rem !important;
  text-transform: uppercase !important;
  color: #1084cb !important;
  margin: 0 !important;
  padding: 0 !important;
}

/* Dropdown Menu Fixes - Force proper text visibility */
[data-radix-dropdown-menu-content],
.dropdown-content,
[role="menu"] {
  background-color: #1a1a1a !important;
  border: 1px solid #333 !important;
  color: #ffffff !important;
  z-index: 9999 !important;
  box-shadow: 0 10px 38px -10px rgba(22, 23, 24, 0.35), 0 10px 20px -15px rgba(22, 23, 24, 0.2) !important;
}

[data-radix-dropdown-menu-item],
.dropdown-item,
[role="menuitem"] {
  color: #ffffff !important;
  background-color: transparent !important;
}

[data-radix-dropdown-menu-item]:hover,
[data-radix-dropdown-menu-item]:focus,
.dropdown-item:hover,
[role="menuitem"]:hover {
  background-color: #333 !important;
  color: #ffffff !important;
}

/* Specific overrides for popover components */
.bg-popover {
  background-color: #1a1a1a !important;
}

.text-popover-foreground {
  color: #ffffff !important;
}

/* Thoughtmark Card dropdown menu specific overrides */
.thoughtmark-card [data-radix-dropdown-menu-content],
.thoughtmark-card .dropdown-content {
  background-color: #1a1a1a !important;
  border: 1px solid #444 !important;
  backdrop-filter: blur(10px) !important;
}

.thoughtmark-card [data-radix-dropdown-menu-item],
.thoughtmark-card .dropdown-item {
  color: #ffffff !important;
  padding: 8px 12px !important;
}

.thoughtmark-card [data-radix-dropdown-menu-item]:hover,
.thoughtmark-card [data-radix-dropdown-menu-item]:focus {
  background-color: #333 !important;
  color: #ffffff !important;
}

/* Force dropdown menu items to have proper text color - preserve icon colors */
[data-radix-dropdown-menu-item] span,
.dropdown-item span {
  color: inherit !important;
}

/* Preserve specific icon colors in dropdown menus - reset to default gray */
[data-radix-dropdown-menu-item] svg {
  color: #9ca3af !important; /* Default gray-400 */
}

/* Archive item blue color preservation */
[data-radix-dropdown-menu-item].text-blue-400 svg {
  color: #60a5fa !important; /* Blue-400 */
}

[data-radix-dropdown-menu-item].text-blue-300 svg {
  color: #93c5fd !important; /* Blue-300 */
}

/* Fluid Glass Effects - Targeted Interactive Elements Only */
.fluid-theme .fluid-card,
.fluid-theme .thoughtmark-card,
.fluid-theme .bin-card,
.fluid-theme button.new-bin-button,
.fluid-theme button.manage-button,
.fluid-theme .ai-tool-card,
.fluid-theme .settings-toggle-card,
.fluid-theme .tooltip-panel,
.fluid-theme .floating-panel,
.fluid-theme .suggestion-card,
.fluid-theme .action-card {
  backdrop-filter: blur(14px) !important;
  -webkit-backdrop-filter: blur(14px) !important;
  background: rgba(255, 255, 255, 0.05) !important;
  border: 1px solid rgba(255, 255, 255, 0.12) !important;
  border-radius: 8px !important;
  box-shadow: 
    0 8px 32px rgba(0, 0, 0, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.1) !important;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

.fluid-theme .fluid-card:hover,
.fluid-theme .thoughtmark-card:hover,
.fluid-theme .bin-card:hover,
.fluid-theme button.new-bin-button:hover,
.fluid-theme button.manage-button:hover,
.fluid-theme .ai-tool-card:hover,
.fluid-theme .settings-toggle-card:hover,
.fluid-theme .tooltip-panel:hover,
.fluid-theme .floating-panel:hover,
.fluid-theme .suggestion-card:hover,
.fluid-theme .action-card:hover {
  background: rgba(255, 255, 255, 0.08) !important;
  border-color: rgba(255, 255, 255, 0.18) !important;
  box-shadow: 
    0 12px 40px rgba(0, 0, 0, 0.4),
    inset 0 1px 0 rgba(255, 255, 255, 0.15) !important;
  transform: translateY(-2px) !important;
}

/* Special glass effect for active/selected states */
.fluid-theme .thoughtmark-card.selected,
.fluid-theme .bin-card.selected,
.fluid-theme .fluid-card.selected {
  background: rgba(198, 214, 0, 0.1) !important;
  border-color: rgba(198, 214, 0, 0.3) !important;
  box-shadow: 
    0 12px 40px rgba(198, 214, 0, 0.2),
    inset 0 1px 0 rgba(198, 214, 0, 0.2),
    0 0 20px rgba(198, 214, 0, 0.15) !important;
}

/* Glass effect for pinned items - Blue highlight */
.fluid-theme .thoughtmark-card.pinned {
  background: rgba(59, 130, 246, 0.05) !important;
  border-color: rgba(59, 130, 246, 0.2) !important;
  box-shadow: 
    0 8px 32px rgba(0, 0, 0, 0.3),
    inset 0 1px 0 rgba(59, 130, 246, 0.1),
    0 0 10px rgba(59, 130, 246, 0.1) !important;
}

/* Ensure navigation elements stay flat and clean */
.bottom-nav button,
nav button,
.nav-button,
.add-button,
[data-nav-button],
.section-title,
h1, h2, h3, h4, h5, h6,
.text-wrapper,
.layout-wrapper,
.app-background {
  background: transparent !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  border: none !important;
  box-shadow: none !important;
}

/* Enhanced mobile UX animations */
@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 5px rgba(198, 214, 0, 0.3); }
  50% { box-shadow: 0 0 20px rgba(198, 214, 0, 0.6), 0 0 30px rgba(198, 214, 0, 0.4); }
}

@keyframes bounce-subtle {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-2px); }
}

@keyframes fade-in {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes scale-in {
  from { opacity: 0; transform: scale(0.95); }
  to { opacity: 1; transform: scale(1); }
}

@keyframes slide-up {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes press-feedback {
  0% { transform: scale(1); }
  50% { transform: scale(0.98); }
  100% { transform: scale(1); }
}

.animate-shimmer {
  animation: shimmer 2s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-bounce-subtle {
  animation: bounce-subtle 0.6s ease-in-out;
}

.animate-fade-in {
  animation: fade-in 0.3s ease-out;
}

.animate-scale-in {
  animation: scale-in 0.2s ease-out;
}

.animate-slide-up {
  animation: slide-up 0.4s ease-out;
}

.animate-press {
  animation: press-feedback 0.15s ease-out;
}

/* Native iOS scroll physics and touch optimizations */
.native-scroll {
  -webkit-overflow-scrolling: touch;
  scroll-behavior: smooth;
  overscroll-behavior: auto;
}

.touch-optimized {
  -webkit-tap-highlight-color: transparent;
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  touch-action: manipulation;
}

.gpu-accelerated {
  will-change: transform;
  transform: translateZ(0);
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
}

.spring-transition {
  transition-timing-function: cubic-bezier(0.34, 1.56, 0.64, 1);
}

.modal-backdrop {
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  background: rgba(0, 0, 0, 0.3);
}

.elastic-scroll {
  overscroll-behavior-y: contain;
  scroll-snap-type: y proximity;
}

.dark-transition {
  transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
}

/* Gesture navigation optimizations */
.swipe-container {
  touch-action: pan-y;
  -webkit-overflow-scrolling: touch;
}

.drag-handle {
  touch-action: none;
  -webkit-touch-callout: none;
}

/* iOS-style spring animations */
@keyframes spring-in {
  0% { 
    transform: scale(0.9) translateY(20px);
    opacity: 0;
  }
  60% { 
    transform: scale(1.02) translateY(-2px);
    opacity: 0.8;
  }
  100% { 
    transform: scale(1) translateY(0);
    opacity: 1;
  }
}

@keyframes spring-out {
  0% { 
    transform: scale(1) translateY(0);
    opacity: 1;
  }
  100% { 
    transform: scale(0.95) translateY(10px);
    opacity: 0;
  }
}

.animate-spring-in {
  animation: spring-in 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.animate-spring-out {
  animation: spring-out 0.3s cubic-bezier(0.55, 0.06, 0.68, 0.19);
}

/* Brain loader animations with priority overrides */
@keyframes brain-breathing {
  0%, 100% { 
    transform: scale(1) !important;
    opacity: 0.8 !important;
    filter: drop-shadow(0 0 8px rgba(198, 214, 0, 0.5)) !important;
  }
  50% { 
    transform: scale(1.05) !important;
    opacity: 1 !important;
    filter: drop-shadow(0 0 12px rgba(198, 214, 0, 0.8)) !important;
  }
}

@keyframes ring-glow {
  0%, 100% { 
    opacity: 0.3 !important;
    transform: scale(1) !important;
    border-color: rgba(198, 214, 0, 0.3) !important;
  }
  50% { 
    opacity: 0.8 !important;
    transform: scale(1.1) !important;
    border-color: rgba(198, 214, 0, 0.6) !important;
  }
}

@keyframes progress-flow {
  0% { 
    transform: translateX(-100%) !important;
    opacity: 0 !important;
  }
  50% { 
    opacity: 1 !important;
  }
  100% { 
    transform: translateX(250%) !important;
    opacity: 0 !important;
  }
}

@keyframes text-fade {
  0%, 100% { opacity: 0.6 !important; }
  50% { opacity: 1 !important; }
}

@keyframes dot-bounce {
  0%, 60%, 100% {
    opacity: 0.3 !important;
    transform: translateY(0) !important;
  }
  30% {
    opacity: 1 !important;
    transform: translateY(-8px) !important;
  }
}

@keyframes cursor-blink {
  0%, 50% { opacity: 1; }
  51%, 100% { opacity: 0; }
}

/* Brain loader utility classes */
.brain-loader {
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
  gap: 16px !important;
  position: relative !important;
}

.brain-loader .glow-ring {
  position: absolute !important;
  top: -10px !important;
  left: 50% !important;
  transform: translateX(-50%) !important;
  width: 60px !important;
  height: 60px !important;
  border: 2px solid rgba(198, 214, 0, 0.3) !important;
  border-radius: 50% !important;
  animation: ring-glow 2s ease-in-out infinite !important;
}

.brain-loader .brain-icon {
  width: 40px !important;
  height: 40px !important;
  color: #C6D600 !important;
  filter: drop-shadow(0 0 8px rgba(198, 214, 0, 0.5)) !important;
  animation: brain-breathing 3s ease-in-out infinite !important;
  z-index: 1 !important;
  position: relative !important;
}

.brain-loader .thinking-dots {
  display: flex !important;
  gap: 4px !important;
  margin-top: 8px !important;
}

.brain-loader .dot {
  width: 6px !important;
  height: 6px !important;
  background-color: #C6D600 !important;
  border-radius: 50% !important;
  animation: dot-bounce 1.5s infinite !important;
}

.brain-loader .dot:nth-child(1) { animation-delay: 0s !important; }
.brain-loader .dot:nth-child(2) { animation-delay: 0.2s !important; }
.brain-loader .dot:nth-child(3) { animation-delay: 0.4s !important; }

.brain-loader .thinking-text {
  color: rgba(255, 255, 255, 0.8) !important;
}

/* ==========================================
   REFINED DESIGN SYSTEM - SUBTLE & CONGRUENT
   ========================================== */

.refined-theme {
  /* Color System - Subtle Neutrals with Purposeful Accents */
  --color-primary: 220 26% 14%;
  --color-primary-foreground: 210 40% 98%;
  --color-secondary: 220 14% 96%;
  --color-secondary-foreground: 220 9% 46%;
  --color-accent: 217 12% 84%;
  --color-accent-foreground: 222 84% 5%;
  
  /* Background System */
  --color-background: 0 0% 100%;
  --color-foreground: 222 84% 5%;
  --color-card: 0 0% 100%;
  --color-card-foreground: 222 84% 5%;
  --color-popover: 0 0% 100%;
  --color-popover-foreground: 222 84% 5%;
  
  /* Interactive Elements */
  --color-muted: 210 40% 96%;
  --color-muted-foreground: 215 16% 47%;
  --color-border: 214 32% 91%;
  --color-input: 214 32% 91%;
  --color-ring: 221 83% 53%;
  
  /* Spacing & Layout */
  --radius-sm: 0.375rem;
  --radius-md: 0.5rem;
  --radius-lg: 0.75rem;
  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
}

/* Base Layout - Clean Foundation */
.refined-theme body {
  background: hsl(var(--color-background)) !important;
  color: hsl(var(--color-foreground)) !important;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif !important;
  font-weight: 400 !important;
  line-height: 1.5 !important;
}

.refined-theme #root {
  background: hsl(var(--color-background)) !important;
  border: none !important;
  box-shadow: none !important;
}

/* Typography - Refined Hierarchy */
.refined-theme h1, 
.refined-theme h2, 
.refined-theme h3, 
.refined-theme h4, 
.refined-theme h5, 
.refined-theme h6,
.refined-theme .text-2xl,
.refined-theme .text-xl,
.refined-theme .text-lg {
  font-family: 'Inter', system-ui, sans-serif !important;
  font-weight: 600 !important;
  letter-spacing: -0.025em !important;
  line-height: 1.2 !important;
  color: hsl(var(--color-foreground)) !important;
}

/* Cards - Subtle Elevation */
.refined-theme .bg-card,
.refined-theme .bg-gray-900,
.refined-theme .bg-gray-800,
.refined-theme .bg-black {
  background: hsl(var(--color-card)) !important;
  border: 1px solid hsl(var(--color-border)) !important;
  box-shadow: var(--shadow-sm) !important;
}

/* Text Colors - Harmonious */
.refined-theme .text-white,
.refined-theme .text-gray-100,
.refined-theme .text-gray-200 {
  color: hsl(var(--color-foreground)) !important;
}

.refined-theme .text-gray-300,
.refined-theme .text-gray-400,
.refined-theme .text-gray-500 {
  color: hsl(var(--color-muted-foreground)) !important;
}

/* Interactive Elements */
.refined-theme button,
.refined-theme .btn {
  border-radius: var(--radius-md) !important;
  font-weight: 500 !important;
  transition: all 0.2s ease-in-out !important;
}

.refined-theme button:hover:not(:disabled),
.refined-theme .btn:hover {
  transform: translateY(-1px) !important;
  box-shadow: var(--shadow-md) !important;
}

/* Primary Actions */
.refined-theme .bg-blue-500,
.refined-theme .bg-blue-600,
.refined-theme .bg-primary {
  background: hsl(var(--color-primary)) !important;
  color: hsl(var(--color-primary-foreground)) !important;
  border: none !important;
}

.refined-theme .bg-blue-500:hover,
.refined-theme .bg-blue-600:hover {
  background: hsl(var(--color-primary) / 0.9) !important;
}

/* Secondary Actions */
.refined-theme .bg-gray-600,
.refined-theme .bg-gray-700,
.refined-theme .border-gray-700,
.refined-theme .border-gray-600 {
  background: hsl(var(--color-secondary)) !important;
  color: hsl(var(--color-secondary-foreground)) !important;
  border: 1px solid hsl(var(--color-border)) !important;
}

/* Input Fields */
.refined-theme input,
.refined-theme textarea,
.refined-theme select {
  background: hsl(var(--color-background)) !important;
  border: 1px solid hsl(var(--color-border)) !important;
  border-radius: var(--radius-md) !important;
  color: hsl(var(--color-foreground)) !important;
}

.refined-theme input:focus,
.refined-theme textarea:focus,
.refined-theme select:focus {
  border-color: hsl(var(--color-ring)) !important;
  box-shadow: 0 0 0 3px hsl(var(--color-ring) / 0.1) !important;
}

/* Navigation */
.refined-theme .floating-nav,
.refined-theme nav {
  background: hsl(var(--color-background) / 0.95) !important;
  backdrop-filter: blur(20px) !important;
  border-top: 1px solid hsl(var(--color-border)) !important;
}

/* Tags and Badges */
.refined-theme .bg-blue-500\/10,
.refined-theme .bg-green-500\/10,
.refined-theme .bg-yellow-500\/10,
.refined-theme .bg-purple-500\/10 {
  background: hsl(var(--color-muted)) !important;
  color: hsl(var(--color-muted-foreground)) !important;
}

/* Borders */
.refined-theme .border-gray-700,
.refined-theme .border-gray-600,
.refined-theme .border-gray-800 {
  border-color: hsl(var(--color-border)) !important;
}

/* Dark Mode Adaptation */
@media (prefers-color-scheme: dark) {
  .refined-theme {
    --color-background: 222 84% 5%;
    --color-foreground: 210 40% 98%;
    --color-card: 217 33% 17%;
    --color-card-foreground: 210 40% 98%;
    --color-muted: 217 33% 17%;
    --color-muted-foreground: 215 20% 65%;
    --color-border: 217 33% 17%;
  }
}

/* ==========================================
   FLUID THEME - MODERN AMBIENT SCI-FI
   ========================================== */

.fluid-theme {
  /* Base colors - keeping dark foundation */
  --theme-bg: #0e0e11;
  --theme-bg-secondary: #151518;
  --theme-surface: rgba(255, 255, 255, 0.06);
  --theme-surface-hover: rgba(255, 255, 255, 0.08);
  
  /* Modern accent colors - softer and refined */
  --theme-accent: hsl(210, 60%, 52%);
  --theme-accent-hover: hsl(210, 65%, 62%);
  --theme-accent-muted: hsl(210, 30%, 30%);
  
  /* Secondary accents */
  --theme-success: hsl(142, 70%, 55%);
  --theme-warning: hsl(38, 85%, 65%);
  --theme-danger: hsl(0, 75%, 60%);
  
  /* Text hierarchy - softened for better readability */
  --theme-text: #f0f0f5;
  --theme-text-secondary: #b8b8c0;
  --theme-text-muted: #8c8c95;
  --theme-text-disabled: #5a5a62;
  
  /* Card and glass effects */
  --theme-card: hsl(220, 15%, 10%);
  --theme-card-shadow: 0 4px 24px rgba(0, 0, 0, 0.25);
  --theme-blur-glass: blur(12px);
  
  /* Borders and dividers - barely perceptible */
  --theme-border: rgba(255, 255, 255, 0.05);
  --theme-border-hover: rgba(255, 255, 255, 0.08);
  --theme-divider: rgba(255, 255, 255, 0.03);
  
  /* Spacing scale */
  --theme-spacing-xs: 0.25rem;
  --theme-spacing-sm: 0.5rem;
  --theme-spacing-md: 0.75rem;
  --theme-spacing-lg: 1rem;
  --theme-spacing-xl: 1.5rem;
  --theme-spacing-xxl: 2rem;
  
  /* Radius scale */
  --theme-radius-sm: 6px;
  --theme-radius-md: 12px;
  --theme-radius-lg: 16px;
  --theme-radius-xl: 24px;
  
  /* Typography */
  --theme-font-heading: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
  --theme-font-body: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
  --theme-font-size-heading: clamp(1.8rem, 2.5vw, 2.4rem);
  --theme-font-size-subheading: clamp(1.4rem, 2vw, 1.6rem);
  --theme-font-size-body: clamp(1rem, 1.5vw, 1.2rem);
}

/* Glass Surface Effects - Apply only to outermost containers */
.fluid-theme .glass-surface {
  background: var(--theme-surface);
  backdrop-filter: var(--theme-blur-glass);
  border: 1px solid var(--theme-border);
  transition: all var(--theme-transition-base);
}

.fluid-theme .glass-surface:hover {
  background: var(--theme-surface-hover);
  border-color: var(--theme-border-hover);
}

/* Card Glass - Cleaner look for cards */
.fluid-theme .card-glass {
  background: var(--theme-card);
  backdrop-filter: var(--theme-blur-glass);
  border: 1px solid var(--theme-border);
  box-shadow: var(--theme-card-shadow);
  border-radius: var(--theme-radius-md);
  transition: all var(--theme-transition-base);
}

/* Inner content should be transparent to avoid stacking artifacts */
.fluid-theme .card-glass .inner-content,
.fluid-theme .glass-surface .inner-content,
.fluid-theme .card-glass > *:not(.card-glass),
.fluid-theme .glass-surface > *:not(.glass-surface) {
  background: transparent !important;
  border: none !important;
  backdrop-filter: none !important;
  box-shadow: none !important;
}

/* Base layout updates - Force dark theme application */
.fluid-theme,
.fluid-theme body,
.fluid-theme #root {
  background: var(--theme-bg) !important;
  color: var(--theme-text) !important;
  font-family: var(--theme-font-body) !important;
  font-weight: 400 !important;
  line-height: 1.5 !important;
}

/* Force all elements to inherit dark theme */
.fluid-theme * {
  border-color: var(--theme-border) !important;
}

/* Override any light theme defaults */
.fluid-theme .bg-background {
  background: var(--theme-bg) !important;
}

.fluid-theme .text-foreground {
  color: var(--theme-text) !important;
}

/* Force all page containers to use dark theme */
.fluid-theme .min-h-screen,
.fluid-theme .h-screen,
.fluid-theme .w-full,
.fluid-theme .max-w-4xl,
.fluid-theme .container,
.fluid-theme main,
.fluid-theme section,
.fluid-theme div,
.fluid-theme .p-6,
.fluid-theme .px-6,
.fluid-theme .py-6 {
  background: transparent !important;
}

/* Target the specific settings page wrapper */
.fluid-theme .min-h-screen.p-6 {
  background: var(--theme-bg) !important;
}

/* Force any remaining white/light backgrounds */
.fluid-theme [style*="background-color: white"],
.fluid-theme [style*="background-color: #fff"],
.fluid-theme [style*="background-color: #ffffff"] {
  background: var(--theme-bg) !important;
}

/* Override specific page background issues */
.fluid-theme body,
.fluid-theme html,
.fluid-theme #root {
  background: var(--theme-bg) !important;
}

/* Force all text to use proper dark theme colors */
.fluid-theme .text-gray-600,
.fluid-theme .text-gray-500,
.fluid-theme .text-gray-400,
.fluid-theme .text-muted-foreground {
  color: var(--theme-text-secondary) !important;
}

/* Typography - Fluid hierarchy, title case, better rhythm */
.fluid-theme h1, 
.fluid-theme h2, 
.fluid-theme h3, 
.fluid-theme h4, 
.fluid-theme h5, 
.fluid-theme h6,
.fluid-theme .text-2xl,
.fluid-theme .text-xl,
.fluid-theme .text-lg {
  font-family: var(--theme-font-heading) !important;
  font-weight: 600 !important;
  letter-spacing: -0.025em !important;
  line-height: 1.2 !important;
  color: var(--theme-text) !important;
  text-transform: none !important; /* Remove all caps */
}

.fluid-theme h1 { font-size: var(--theme-font-size-heading) !important; font-weight: 700 !important; }
.fluid-theme h2 { font-size: var(--theme-font-size-subheading) !important; }
.fluid-theme h3 { font-size: var(--theme-font-size-body) !important; font-weight: 600 !important; }

/* Cards - Dark, modern solid design */
.fluid-theme .bg-card,
.fluid-theme .bg-gray-900,
.fluid-theme .bg-gray-800,
.fluid-theme .bg-gray-700,
.fluid-theme .bg-black {
  background: hsl(220, 15%, 10%) !important;
  border: 1px solid rgba(255, 255, 255, 0.03) !important;
  border-radius: 12px !important;
  box-shadow: 0 4px 24px rgba(0, 0, 0, 0.25) !important;
  transition: all 200ms ease-out !important;
}

.fluid-theme .bg-card:hover,
.fluid-theme .bg-gray-900:hover,
.fluid-theme .bg-gray-800:hover {
  background: hsl(220, 15%, 12%) !important;
  border-color: rgba(255, 255, 255, 0.05) !important;
  transform: translateY(-1px) !important;
  box-shadow: 0 6px 32px rgba(0, 0, 0, 0.35) !important;
}

/* Solid card backgrounds without glass effects */
.fluid-theme .bg-white:not(.floating-nav):not(nav):not(button) {
  background: hsl(220, 15%, 10%) !important;
  border: 1px solid rgba(255, 255, 255, 0.03) !important;
  border-radius: 12px !important;
}

/* Removed duplicate hover styles - handled above */

/* Buttons - Solid modern styling without glass effects (exclude nav buttons) */
.fluid-theme button:not(.nav-button),
.fluid-theme .btn:not(.nav-button) {
  background: hsl(220, 15%, 12%) !important;
  border: 1px solid rgba(255, 255, 255, 0.05) !important;
  border-radius: 8px !important;
  font-weight: 500 !important;
  color: #f0f0f5 !important;
  transition: all 200ms ease-out !important;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2) !important;
}

.fluid-theme button:active:not(:disabled):not(.nav-button),
.fluid-theme .btn:active:not(.nav-button) {
  background: hsl(220, 15%, 15%) !important;
  border-color: rgba(255, 255, 255, 0.08) !important;
  color: #ffffff !important;
  transform: scale(0.98) !important;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3) !important;
  transition: all 0.1s ease !important;
}

/* Primary buttons - Subtle accent gradients */
.fluid-theme .bg-blue-500,
.fluid-theme .bg-blue-600,
.fluid-theme .bg-primary {
  background: linear-gradient(135deg, var(--theme-accent) 0%, hsl(200, 70%, 50%) 100%) !important;
  color: white !important;
  border: none !important;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.4) !important;
}

.fluid-theme .bg-blue-500:active,
.fluid-theme .bg-blue-600:active {
  background: linear-gradient(135deg, var(--theme-accent-hover) 0%, hsl(200, 80%, 60%) 100%) !important;
  box-shadow: 0 4px 8px -1px rgba(0, 0, 0, 0.6) !important;
  transform: scale(0.98) !important;
  transition: all 0.1s ease !important;
}

/* Secondary buttons - Glass effect */
.fluid-theme .bg-gray-600,
.fluid-theme .bg-gray-700,
.fluid-theme .border-gray-700,
.fluid-theme .border-gray-600 {
  background: rgba(255,255,255,0.08) !important;
  color: var(--theme-text) !important;
  border: 1px solid var(--theme-border) !important;
  backdrop-filter: blur(8px) !important;
}

.fluid-theme .bg-gray-600:active,
.fluid-theme .bg-gray-700:active {
  background: rgba(255,255,255,0.12) !important;
  border-color: var(--theme-border-hover) !important;
  transform: scale(0.98) !important;
  transition: all 0.1s ease !important;
}

/* Text colors - Harmonious hierarchy */
.fluid-theme .text-white,
.fluid-theme .text-gray-100,
.fluid-theme .text-gray-200 {
  color: var(--theme-text) !important;
}

.fluid-theme .text-gray-300,
.fluid-theme .text-gray-400 {
  color: var(--theme-text-secondary) !important;
}

.fluid-theme .text-gray-500,
.fluid-theme .text-gray-600 {
  color: var(--theme-text-muted) !important;
}

/* Typography - Refined hierarchy with subtle improvements */
.fluid-theme h1, .fluid-theme h2, .fluid-theme h3 {
  font-weight: 600;
  letter-spacing: -0.025em;
  line-height: 1.2;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
}

.fluid-theme .thoughtmark-title {
  font-weight: 500;
  letter-spacing: -0.01em;
  line-height: 1.4;
}

.fluid-theme .bin-title {
  font-weight: 500;
  letter-spacing: -0.015em;
}

/* Input fields - Subtle glass effect */
.fluid-theme input,
.fluid-theme textarea,
.fluid-theme select {
  background: var(--theme-surface) !important;
  border: 1px solid var(--theme-border) !important;
  border-radius: var(--theme-radius-md) !important;
  color: var(--theme-text) !important;
  backdrop-filter: blur(8px) !important;
  transition: all 250ms ease-out !important;
}

.fluid-theme input:focus,
.fluid-theme textarea:focus,
.fluid-theme select:focus {
  border-color: var(--theme-accent) !important;
  box-shadow: 0 0 0 3px hsla(200, 80%, 60%, 0.2) !important;
  background: var(--theme-surface-hover) !important;
}

/* Navigation - Ambient presence */
.fluid-theme .floating-nav,
.fluid-theme nav {
  background: rgba(14, 14, 17, 0.8) !important;
  backdrop-filter: blur(20px) !important;
  border-top: 1px solid var(--theme-border) !important;
}

/* Bottom Navigation - Dark outline with bright inner highlight */
.fluid-theme .bottom-nav,
.fluid-theme [data-bottom-nav],
.fluid-theme .bg-gray-900\/90 {
  background: rgba(0, 0, 0, 0.5) !important;
  backdrop-filter: blur(10px) !important;
  -webkit-backdrop-filter: blur(10px) !important;
  border-top: 4px solid rgba(0, 0, 0, 0.8) !important;
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.3) !important;
  filter: drop-shadow(0 -8px 16px rgba(0, 0, 0, 0.9)) drop-shadow(0 -4px 8px rgba(0, 0, 0, 0.7)) !important;
  display: flex !important;
  visibility: visible !important;
  opacity: 1 !important;
}

/* Navigation buttons - Solid non-glass styling */
.fluid-theme .nav-button {
  background: transparent !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  border: 1px solid transparent !important;
  color: var(--theme-text-muted) !important;
  opacity: 0.6;
  transition: all 250ms ease-out !important;
  box-shadow: none !important;
}

/* Legacy button selectors for fallback */
.fluid-theme .bottom-nav button:not(.nav-button),
.fluid-theme [data-nav-button] {
  background: transparent !important;
  border: 1px solid transparent !important;
  color: var(--theme-text-muted) !important;
  opacity: 0.6;
  transition: all 250ms ease-out !important;
}

/* Remove hover states - mobile-first approach */

.fluid-theme .bottom-nav button[data-active="true"],
.fluid-theme [data-nav-button][data-active="true"] {
  color: var(--theme-accent) !important;
  border-color: var(--theme-accent) !important;
  background: var(--theme-surface) !important;
  opacity: 1;
}

/* Floating Action Button - Enhanced shadow separation */
.fluid-theme .fixed.bottom-20.right-6,
.fluid-theme button.fixed.bottom-20.right-6 {
  box-shadow: 0 8px 30px rgba(0, 0, 0, 0.6), 0 4px 15px rgba(0, 0, 0, 0.4), 0 0 15px rgba(198, 214, 0, 0.3) !important;
}

.fluid-theme .floating-action-button:active,
.fluid-theme [data-fab]:active {
  transform: scale(0.95) !important;
  box-shadow: 0 0 15px rgba(59, 130, 246, 0.7), 0 0 30px rgba(59, 130, 246, 0.3) !important;
  transition: all 0.1s ease !important;
}

/* Voice button special styling */
.fluid-theme .voice-recorder-button {
  border-color: var(--theme-danger) !important;
  color: var(--theme-danger) !important;
}

.fluid-theme .voice-recorder-button:active {
  background: hsla(0, 75%, 60%, 0.15) !important;
  border-color: var(--theme-danger) !important;
  color: var(--theme-danger) !important;
  transform: scale(0.95) !important;
  transition: all 0.1s ease !important;
}

/* Ensure navigation container visibility and proper positioning */
.fixed.bottom-0 {
  position: fixed !important;
  bottom: 0 !important;
  left: 0 !important;
  right: 0 !important;
  width: 100vw !important;
  z-index: 30 !important;
}

/* Force fixed positioning for all navigation containers */
[class*="fixed"][class*="bottom-0"],
.bottom-nav-container {
  position: fixed !important;
  bottom: 0 !important;
  left: 0 !important;
  right: 0 !important;
  width: 100vw !important;
  z-index: 30 !important;
}

/* Aggressive viewport bottom positioning */
body [class*="fixed"][class*="bottom"] {
  position: fixed !important;
  bottom: 0px !important;
  left: 0px !important;
  right: 0px !important;
  width: 100vw !important;
  z-index: 999 !important;
}

/* Override any Tailwind positioning issues */
.fixed.bottom-0.left-0.right-0 {
  position: fixed !important;
  bottom: 0vh !important;
  left: 0vw !important;
  right: 0vw !important;
  width: 100vw !important;
  height: auto !important;
  z-index: 999 !important;
}

.fluid-theme .fixed.bottom-0,
.fluid-theme [style*="bottom: 0"] {
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
  position: fixed !important;
  bottom: 0 !important;
  left: 0 !important;
  right: 0 !important;
}

/* Specific bottom nav styling - enhanced shadow separation */
.fluid-theme .bg-gray-900\/90 {
  background: rgba(0, 0, 0, 0.6) !important;
  backdrop-filter: blur(10px) !important;
  box-shadow: 0 -8px 25px rgba(0, 0, 0, 0.8), 0 -2px 10px rgba(0, 0, 0, 0.4) !important;
  border-top: 1px solid rgba(255, 255, 255, 0.1) !important;
}

.fluid-theme .border-gray-700 {
  border-color: var(--theme-border) !important;
}

.fluid-theme .grid-cols-5 {
  display: grid !important;
  visibility: visible !important;
}

.fluid-theme .grid-cols-5 button {
  background: transparent !important;
  border: none !important;
  color: var(--theme-text-muted) !important;
  transition: color 250ms ease-out !important;
  border-radius: 0 !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  box-shadow: none !important;
}

.fluid-theme .grid-cols-5 button:hover {
  background: transparent !important;
  color: var(--theme-text) !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  box-shadow: none !important;
  transform: none !important;
}

/* Active state for navigation */
.fluid-theme .text-\[\#C6D600\] {
  color: var(--theme-accent) !important;
}

.fluid-theme .border-\[\#C6D600\]\/30 {
  border-color: var(--theme-accent) !important;
}

/* Voice button styling */
.fluid-theme .text-red-400 {
  color: var(--theme-danger) !important;
}

.fluid-theme .hover\:bg-red-500\/20:hover {
  background: transparent !important;
}

.fluid-theme .hover\:border-red-400\/30:hover {
  border: none !important;
}

/* AI tools button styling */
.fluid-theme .text-yellow-400 {
  color: var(--theme-warning) !important;
}

.fluid-theme .hover\:bg-yellow-500\/20:hover {
  background: transparent !important;
}

.fluid-theme .hover\:border-yellow-400\/30:hover {
  border: none !important;
}

/* Floating Create Button - Enhanced visibility and positioning */
.fixed.left-1\/2 {
  position: fixed !important;
  left: 50vw !important;
  transform: translateX(-50%) !important;
  z-index: 1000 !important;
}

/* Aggressive floating button positioning */
body [class*="fixed"][class*="left-1/2"] {
  position: fixed !important;
  left: 50vw !important;
  transform: translateX(-50%) !important;
  z-index: 1000 !important;
}

.fluid-theme .fixed.left-1\/2 {
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
  position: fixed !important;
  left: 50% !important;
  transform: translateX(-50%) !important;
}

.fluid-theme .fixed.left-1\/2 .p-0\.5 {
  background: linear-gradient(135deg, var(--theme-accent) 0%, hsl(200, 70%, 50%) 100%) !important;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5), 0 4px 16px var(--theme-accent) !important;
  opacity: 1 !important;
}

.fluid-theme .fixed.left-1\/2 button {
  background: linear-gradient(135deg, var(--theme-bg) 0%, var(--theme-bg-secondary) 100%) !important;
  border: 1px solid var(--theme-border) !important;
  color: var(--theme-accent) !important;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4), inset 0 0 20px var(--theme-surface) !important;
}

.fluid-theme .fixed.left-1\/2 button:hover {
  transform: translateY(-2px) scale(1.05) !important;
  color: var(--theme-accent-hover) !important;
  box-shadow: 0 12px 32px rgba(0, 0, 0, 0.6), 0 8px 20px var(--theme-accent) !important;
}

/* Dashboard button theme switcher */
.fluid-theme-hidden {
  display: block !important;
}

.fluid-theme-only {
  display: none !important;
}

.fluid-theme .fluid-theme-hidden {
  display: none !important;
}

.fluid-theme .fluid-theme-only {
  display: block !important;
}

/* Improved Glass Surface System - Top-level containers only */
.fluid-theme .glass-surface {
  background-color: rgba(255, 255, 255, 0.05) !important;
  backdrop-filter: blur(10px) !important;
  -webkit-backdrop-filter: blur(10px) !important;
  border: 1px solid rgba(255, 255, 255, 0.15) !important;
  border-radius: 16px !important;
  box-shadow: 0 4px 24px rgba(0, 0, 0, 0.2) !important;
  padding: 1.5rem !important;
  overflow: hidden !important;
}

.fluid-theme .card-content {
  background: transparent !important;
  border: none !important;
  box-shadow: none !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  padding: 0 !important;
  border-radius: 0 !important;
}

.fluid-theme .card-content .card-content {
  padding: 0 !important;
}

/* Target specific containers with square outlines */
.fluid-theme .border-t.border-gray-700 {
  border-radius: 12px !important;
  border: 1px solid rgba(255, 255, 255, 0.1) !important;
  background-color: rgba(255, 255, 255, 0.02) !important;
  padding: 1rem !important;
  margin-top: 1rem !important;
}

/* Override the border-top styling */
.fluid-theme .border-t.border-gray-700 {
  border-top: 1px solid rgba(255, 255, 255, 0.1) !important;
}

/* Badge and chip components */
.fluid-theme .glass-surface .bg-gray-800 {
  border-radius: 6px !important;
}

/* Button components */
.fluid-theme .glass-surface button {
  border-radius: 6px !important;
}

/* Restore text colors that might be affected */
.fluid-theme .glass-surface .text-white {
  color: white !important;
}

.fluid-theme .glass-surface .text-gray-400 {
  color: rgb(156, 163, 175) !important;
}

.fluid-theme .glass-surface .text-gray-300 {
  color: rgb(209, 213, 219) !important;
}

/* Navigation positioning fix */
.fluid-theme .glass-surface.bg-gray-900\/90 {
  background-color: rgba(17, 24, 39, 0.9) !important;
  backdrop-filter: blur(12px) !important;
  border: 1px solid rgba(255, 255, 255, 0.1) !important;
}

/* Dashboard title size adjustment for fluid theme only */
.fluid-theme .dashboard-title {
  font-size: 1.125rem !important; /* text-lg equivalent */
}

/* Solid theme styles - preserve original appearance */
.solid-theme .glass-surface {
  background-color: rgb(31, 41, 55) !important; /* bg-gray-800 */
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  border: 1px solid rgb(75, 85, 99) !important; /* border-gray-600 */
  border-radius: 0.5rem !important; /* rounded-lg */
  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06) !important;
}

.solid-theme .card-content {
  background: transparent !important;
  border: none !important;
  box-shadow: none !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  padding: 0 !important;
  border-radius: 0 !important;
}

/* Solid theme - disable glass effects completely */
.solid-theme .border-t.border-gray-700 {
  border-radius: 0 !important;
  border: none !important;
  border-top: 1px solid rgb(75, 85, 99) !important;
  background-color: transparent !important;
  padding: 1rem 0 !important;
  margin-top: 0 !important;
}

/* Legacy card-glass support for compatibility */
.fluid-theme .card-glass {
  background-color: rgba(255, 255, 255, 0.05) !important;
  backdrop-filter: blur(10px) !important;
  border: 1px solid rgba(255, 255, 255, 0.15) !important;
  border-radius: 12px !important;
  box-shadow: 0 4px 24px rgba(0, 0, 0, 0.2) !important;
}

.fluid-theme .sub-section {
  background: transparent !important;
  box-shadow: none !important;
  border: none !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
}

.fluid-theme .chip-neutral {
  background: rgba(255, 255, 255, 0.08) !important;
  border: 1px solid rgba(255, 255, 255, 0.08) !important;
  border-radius: 6px !important;
  backdrop-filter: none !important;
  box-shadow: none !important;
}

/* Prevent double-stacking in nested containers */
.fluid-theme .card-glass .card-glass {
  backdrop-filter: none !important;
  background: transparent !important;
  border: 1px solid rgba(255, 255, 255, 0.05) !important;
  box-shadow: none !important;
}

.fluid-theme .card-glass .bg-gray-900,
.fluid-theme .card-glass .bg-gray-800,
.fluid-theme .card-glass .bg-gray-700 {
  background: transparent !important;
}

.fluid-theme .card-glass .border-gray-700,
.fluid-theme .card-glass .border-gray-600 {
  border-color: rgba(255, 255, 255, 0.05) !important;
}

/* ==========================================
   GLOBAL READABILITY & CONTRAST IMPROVEMENTS
   ========================================== */

/* 1. Dropdowns, Menus, and Select Fields - Enhanced visibility */
.fluid-theme [data-radix-select-content],
.fluid-theme [data-radix-dropdown-menu-content],
.fluid-theme [data-radix-popover-content],
.fluid-theme .select-content,
.fluid-theme .dropdown-content,
.fluid-theme .popover-content,
.fluid-theme select,
.fluid-theme .select-trigger {
  background: rgba(0, 0, 0, 0.85) !important;
  color: #f0f0f5 !important;
  border: 1px solid rgba(255, 255, 255, 0.15) !important;
  backdrop-filter: blur(12px) !important;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4) !important;
}

.fluid-theme [data-radix-select-item]:hover,
.fluid-theme [data-radix-dropdown-menu-item]:hover,
.fluid-theme .select-item:hover,
.fluid-theme .dropdown-item:hover,
.fluid-theme option:hover {
  background: rgba(255, 255, 255, 0.08) !important;
  color: #fff !important;
}

.fluid-theme [data-radix-select-item][data-highlighted],
.fluid-theme [data-radix-dropdown-menu-item][data-highlighted],
.fluid-theme .select-item[data-selected],
.fluid-theme .dropdown-item[data-selected] {
  background: rgba(255, 255, 255, 0.12) !important;
  color: #fff !important;
  font-weight: 500 !important;
}

/* 2. Tag Chips - Clear selection states with maximum specificity */
.fluid-theme .tag-chip,
.fluid-theme [data-tag-chip],
.fluid-theme div.tag-chip,
.fluid-theme div[data-tag-chip] {
  background-color: rgba(255, 255, 255, 0.08) !important;
  background: rgba(255, 255, 255, 0.08) !important;
  color: #f0f0f5 !important;
  border: 1px solid rgba(255, 255, 255, 0.12) !important;
  border-color: rgba(255, 255, 255, 0.12) !important;
  border-radius: 8px !important;
  font-weight: 400 !important;
  transition: all 0.2s ease !important;
}

.fluid-theme .tag-chip:hover,
.fluid-theme [data-tag-chip]:hover,
.fluid-theme div.tag-chip:hover,
.fluid-theme div[data-tag-chip]:hover {
  background-color: rgba(255, 255, 255, 0.12) !important;
  background: rgba(255, 255, 255, 0.12) !important;
  border-color: rgba(255, 255, 255, 0.2) !important;
  transform: translateY(-1px) !important;
}

.fluid-theme .tag-chip[data-selected="true"],
.fluid-theme .tag-chip.selected,
.fluid-theme [data-tag-chip][data-selected="true"],
.fluid-theme [data-tag-chip].selected,
.fluid-theme div.tag-chip.selected,
.fluid-theme div[data-tag-chip].selected {
  background-color: #1e293b !important;
  background: #1e293b !important;
  color: #60a5fa !important;
  border-color: #3b82f6 !important;
  border: 1px solid #3b82f6 !important;
  border-radius: 8px !important;
  font-weight: 600 !important;
  box-shadow: none !important;
}

/* Legacy tag styling updates */
.fluid-theme .bg-blue-500\/10,
.fluid-theme .bg-green-500\/10,
.fluid-theme .bg-yellow-500\/10,
.fluid-theme .bg-purple-500\/10 {
  background: rgba(255, 255, 255, 0.08) !important;
  color: #f0f0f5 !important;
  border: 1px solid rgba(255, 255, 255, 0.12) !important;
  border-radius: var(--theme-radius-sm) !important;
}

/* 3. Button & Toggle States - Clear feedback */
.fluid-theme button,
.fluid-theme .btn,
.fluid-theme [role="button"] {
  transition: all 0.2s ease !important;
}

.fluid-theme button:hover:not(:disabled),
.fluid-theme .btn:hover:not(:disabled),
.fluid-theme [role="button"]:hover:not(:disabled) {
  transform: translateY(-1px) !important;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3) !important;
}

.fluid-theme .toggle[data-state="checked"],
.fluid-theme .switch[data-state="checked"],
.fluid-theme [data-state="on"] {
  background: #3399ff !important;
  border-color: #3399ff !important;
}

.fluid-theme .toggle[data-state="unchecked"],
.fluid-theme .switch[data-state="unchecked"],
.fluid-theme [data-state="off"] {
  background: rgba(255, 255, 255, 0.08) !important;
  border-color: rgba(255, 255, 255, 0.15) !important;
}

/* 4. Navigation Pills & Tab Buttons */
.fluid-theme .nav-pill,
.fluid-theme .tab-button,
.fluid-theme [data-nav-pill],
.fluid-theme [data-tab-button] {
  background: rgba(255, 255, 255, 0.06) !important;
  color: #b8b8c0 !important;
  border: 1px solid rgba(255, 255, 255, 0.08) !important;
  transition: all 0.2s ease !important;
}

.fluid-theme .nav-pill.active,
.fluid-theme .tab-button.active,
.fluid-theme [data-nav-pill][data-active="true"],
.fluid-theme [data-tab-button][data-active="true"] {
  background: rgba(51, 153, 255, 0.15) !important;
  color: #3399ff !important;
  border-color: rgba(51, 153, 255, 0.3) !important;
  font-weight: 500 !important;
}

/* 5. Form Controls - Enhanced visibility */
.fluid-theme input[type="text"],
.fluid-theme input[type="email"],
.fluid-theme input[type="password"],
.fluid-theme input[type="search"],
.fluid-theme textarea {
  background: rgba(255, 255, 255, 0.05) !important;
  color: #f0f0f5 !important;
  border: 1px solid rgba(255, 255, 255, 0.12) !important;
  transition: all 0.2s ease !important;
}

.fluid-theme input:focus,
.fluid-theme textarea:focus {
  background: rgba(255, 255, 255, 0.08) !important;
  border-color: #3399ff !important;
  box-shadow: 0 0 0 3px rgba(51, 153, 255, 0.15) !important;
}

/* 6. Checkbox and Radio - Better contrast */
.fluid-theme input[type="checkbox"],
.fluid-theme input[type="radio"],
.fluid-theme [data-radix-checkbox-root],
.fluid-theme [data-radix-radio-root] {
  background: rgba(255, 255, 255, 0.08) !important;
  border: 2px solid rgba(255, 255, 255, 0.2) !important;
}

.fluid-theme input[type="checkbox"]:checked,
.fluid-theme input[type="radio"]:checked,
.fluid-theme [data-radix-checkbox-root][data-state="checked"],
.fluid-theme [data-radix-radio-root][data-state="checked"] {
  background: #3399ff !important;
  border-color: #3399ff !important;
}

/* 7. Theme Selector Specific Improvements */
.fluid-theme .theme-selector select,
.fluid-theme .theme-selector [data-radix-select-trigger] {
  background: rgba(0, 0, 0, 0.85) !important;
  color: #f0f0f5 !important;
  border: 1px solid rgba(255, 255, 255, 0.15) !important;
  font-weight: 500 !important;
}

.fluid-theme .theme-selector [data-radix-select-value] {
  color: #f0f0f5 !important;
}

/* 8. Ultra-High Specificity Radix UI Component Improvements */
.fluid-theme [data-radix-select-content],
[data-radix-select-content] {
  background-color: rgba(14, 14, 17, 0.98) !important;
  background: rgba(14, 14, 17, 0.98) !important;
  border: 2px solid rgba(255, 255, 255, 0.2) !important;
  border-color: rgba(255, 255, 255, 0.2) !important;
  backdrop-filter: blur(24px) !important;
  box-shadow: 0 15px 50px rgba(0, 0, 0, 0.6) !important;
  z-index: 99999 !important;
}

.fluid-theme [data-radix-select-item],
[data-radix-select-item] {
  color: #f0f0f5 !important;
  background-color: transparent !important;
  background: transparent !important;
  padding: 10px 16px !important;
  border-radius: 8px !important;
  margin: 3px !important;
  transition: all 0.15s ease !important;
  font-weight: 400 !important;
}

.fluid-theme [data-radix-select-item][data-highlighted],
[data-radix-select-item][data-highlighted],
.fluid-theme [data-radix-select-item]:hover,
[data-radix-select-item]:hover {
  background-color: rgba(255, 255, 255, 0.15) !important;
  background: rgba(255, 255, 255, 0.15) !important;
  color: #ffffff !important;
  outline: none !important;
}

.fluid-theme [data-radix-select-item][data-state="checked"],
[data-radix-select-item][data-state="checked"] {
  background-color: #3399ff !important;
  background: #3399ff !important;
  color: #000000 !important;
  font-weight: 600 !important;
}

.fluid-theme [data-radix-select-trigger],
[data-radix-select-trigger] {
  background-color: rgba(14, 14, 17, 0.9) !important;
  background: rgba(14, 14, 17, 0.9) !important;
  border: 2px solid rgba(255, 255, 255, 0.2) !important;
  border-color: rgba(255, 255, 255, 0.2) !important;
  color: #f0f0f5 !important;
  padding: 8px 12px !important;
  transition: all 0.2s ease !important;
}

.fluid-theme [data-radix-select-trigger]:hover,
[data-radix-select-trigger]:hover {
  border-color: rgba(255, 255, 255, 0.3) !important;
  background-color: rgba(14, 14, 17, 0.95) !important;
  background: rgba(14, 14, 17, 0.95) !important;
}

.fluid-theme [data-radix-select-value],
[data-radix-select-value] {
  color: #f0f0f5 !important;
}

/* Dialog and Modal improvements */
.fluid-theme [data-radix-dialog-content] {
  background: rgba(14, 14, 17, 0.95) !important;
  border: 1px solid rgba(255, 255, 255, 0.1) !important;
  backdrop-filter: blur(20px) !important;
  color: #f0f0f5 !important;
}

.fluid-theme [data-radix-dialog-overlay] {
  background: rgba(0, 0, 0, 0.6) !important;
  backdrop-filter: blur(4px) !important;
}

/* Toast improvements */
.fluid-theme [data-radix-toast-root] {
  background: rgba(14, 14, 17, 0.95) !important;
  border: 1px solid rgba(255, 255, 255, 0.15) !important;
  color: #f0f0f5 !important;
  backdrop-filter: blur(12px) !important;
}

/* Accordion improvements */
.fluid-theme [data-radix-accordion-content] {
  color: #b8b8c0 !important;
}

.fluid-theme [data-radix-accordion-trigger] {
  color: #f0f0f5 !important;
  transition: all 0.2s ease !important;
}

.fluid-theme [data-radix-accordion-trigger]:hover {
  color: #3399ff !important;
}

/* Tooltip improvements */
.fluid-theme [data-radix-tooltip-content] {
  background: rgba(0, 0, 0, 0.9) !important;
  color: #f0f0f5 !important;
  border: 1px solid rgba(255, 255, 255, 0.1) !important;
  backdrop-filter: blur(8px) !important;
  font-size: 13px !important;
}

/* 9. Additional Interactive Element Improvements */
.fluid-theme .switch,
.fluid-theme [data-switch] {
  background: rgba(255, 255, 255, 0.08) !important;
  border: 1px solid rgba(255, 255, 255, 0.12) !important;
}

.fluid-theme .switch[data-state="checked"],
.fluid-theme [data-switch][data-state="checked"] {
  background: #3399ff !important;
  border-color: #3399ff !important;
}

.fluid-theme .slider-track {
  background: rgba(255, 255, 255, 0.1) !important;
}

.fluid-theme .slider-range {
  background: #3399ff !important;
}

.fluid-theme .slider-thumb {
  background: #fff !important;
  border: 2px solid #3399ff !important;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2) !important;
}

/* 10. Navigation and Menu Bar Improvements */
.fluid-theme .menubar-root,
.fluid-theme [data-radix-menubar-root] {
  background: rgba(255, 255, 255, 0.04) !important;
  border: 1px solid rgba(255, 255, 255, 0.08) !important;
}

.fluid-theme .menubar-trigger,
.fluid-theme [data-radix-menubar-trigger] {
  color: #b8b8c0 !important;
  transition: all 0.2s ease !important;
}

.fluid-theme .menubar-trigger:hover,
.fluid-theme .menubar-trigger[data-state="open"],
.fluid-theme [data-radix-menubar-trigger]:hover,
.fluid-theme [data-radix-menubar-trigger][data-state="open"] {
  background: rgba(255, 255, 255, 0.08) !important;
  color: #f0f0f5 !important;
}

/* 11. Command Palette and Search Improvements */
.fluid-theme [data-cmdk-root] {
  background: rgba(14, 14, 17, 0.95) !important;
  border: 1px solid rgba(255, 255, 255, 0.15) !important;
  backdrop-filter: blur(20px) !important;
}

.fluid-theme [data-cmdk-input] {
  background: rgba(255, 255, 255, 0.05) !important;
  color: #f0f0f5 !important;
  border: 1px solid rgba(255, 255, 255, 0.12) !important;
}

.fluid-theme [data-cmdk-item] {
  color: #b8b8c0 !important;
}

.fluid-theme [data-cmdk-item][data-selected] {
  background: rgba(51, 153, 255, 0.15) !important;
  color: #3399ff !important;
}

/* 12. NUCLEAR OPTION - Ultra high specificity overrides for all problematic elements */
html.fluid-theme div.tag-chip.selected,
html.fluid-theme body div.tag-chip.selected,
html.fluid-theme div.tag-chip.selected,
.fluid-theme div.tag-chip.selected {
  background-color: #3399ff !important;
  background: #3399ff !important;
  color: #000000 !important;
  border-color: #3399ff !important;
  border: 1px solid #3399ff !important;
  font-weight: 600 !important;
  box-shadow: 0 2px 8px rgba(51, 153, 255, 0.3) !important;
}

html.fluid-theme div.tag-chip:not(.selected),
html.fluid-theme body div.tag-chip:not(.selected),
html.fluid-theme div.tag-chip:not(.selected),
.fluid-theme div.tag-chip:not(.selected) {
  background-color: rgba(255, 255, 255, 0.08) !important;
  background: rgba(255, 255, 255, 0.08) !important;
  color: #f0f0f5 !important;
  border-color: rgba(255, 255, 255, 0.12) !important;
  border: 1px solid rgba(255, 255, 255, 0.12) !important;
  font-weight: 400 !important;
}

/* ABSOLUTE NUCLEAR OPTION - Work regardless of theme state, user, or account */
* div.tag-chip.selected,
*:not(.override) div.tag-chip.selected,
html * div.tag-chip.selected,
body * div.tag-chip.selected,
.selected.tag-chip,
.selected.special-tag-chip,
[data-selected="true"].tag-chip,
[data-selected="true"].special-tag-chip {
  background-color: #1e293b !important;
  background: #1e293b !important;
  color: #60a5fa !important;
  border-color: #3b82f6 !important;
  border: 1px solid #3b82f6 !important;
  border-radius: 8px !important;
  font-weight: 600 !important;
  box-shadow: none !important;
}

div.tag-chip:not(.selected) {
  background-color: rgba(255, 255, 255, 0.08) !important;
  background: rgba(255, 255, 255, 0.08) !important;
  color: #f0f0f5 !important;
  border-color: rgba(255, 255, 255, 0.12) !important;
  border: 1px solid rgba(255, 255, 255, 0.12) !important;
  border-radius: 8px !important;
  font-weight: 400 !important;
}

/* Fix all dropdown components with ultra-high specificity and proper contrast */
[data-radix-select-content],
[role="listbox"],
.select-content,
select option {
  background-color: #1a1a1a !important;
  background: #1a1a1a !important;
  color: #ffffff !important;
  border: 2px solid rgba(255, 255, 255, 0.3) !important;
  border-color: rgba(255, 255, 255, 0.3) !important;
  backdrop-filter: blur(24px) !important;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.9) !important;
  z-index: 999999 !important;
}

[data-radix-select-item],
[role="option"],
.select-item,
select option {
  color: #ffffff !important;
  background-color: transparent !important;
  background: transparent !important;
  padding: 12px 16px !important;
  margin: 2px !important;
  border-radius: 8px !important;
  font-weight: 400 !important;
}

[data-radix-select-item][data-highlighted],
[data-radix-select-item]:hover,
[role="option"]:hover,
.select-item:hover,
select option:hover {
  background-color: rgba(255, 255, 255, 0.2) !important;
  background: rgba(255, 255, 255, 0.2) !important;
  color: #ffffff !important;
}

[data-radix-select-item][data-state="checked"],
[role="option"][aria-selected="true"],
.select-item.selected,
select option:checked {
  background-color: #3399ff !important;
  background: #3399ff !important;
  color: #000000 !important;
  font-weight: 600 !important;
}

[data-radix-select-trigger],
.select-trigger,
select {
  background-color: #1a1a1a !important;
  background: #1a1a1a !important;
  border: 2px solid rgba(255, 255, 255, 0.3) !important;
  border-color: rgba(255, 255, 255, 0.3) !important;
  color: #ffffff !important;
  padding: 8px 12px !important;
  transition: all 0.2s ease !important;
}

[data-radix-select-trigger]:hover,
.select-trigger:hover,
select:hover {
  border-color: rgba(255, 255, 255, 0.4) !important;
  background-color: #2a2a2a !important;
  background: #2a2a2a !important;
}

[data-radix-select-value] {
  color: #ffffff !important;
}

/* Global Switch & Toggle Styling Fixes */
/* Override Radix Switch with correct CSS variables */
button[role="switch"] {
  height: 24px !important;
  width: 44px !important;
  min-height: 24px !important;
  max-height: 24px !important;
  border: 2px solid rgba(156, 163, 175, 0.3) !important;
  transition: all 0.2s ease !important;
}

/* Use the actual CSS custom properties */
button[role="switch"][data-state="checked"] {
  background-color: hsl(66 100% 39%) !important; /* --primary */
  border-color: hsl(66 100% 39%) !important;
  box-shadow: 0 0 0 2px rgba(198, 214, 0, 0.15) !important;
}

button[role="switch"][data-state="unchecked"] {
  background-color: hsl(0 0% 20%) !important; /* --input equivalent */
  border-color: rgba(156, 163, 175, 0.4) !important;
}

/* Fix Switch thumb styling with CSS custom properties */
button[role="switch"] span {
  height: 18px !important;
  width: 18px !important;
  background-color: hsl(0 0% 98%) !important; /* --background equivalent */
  border-radius: 50% !important;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2) !important;
  transition: transform 0.2s ease !important;
}

button[role="switch"][data-state="checked"] span {
  transform: translateX(20px) !important;
  background-color: hsl(0 0% 6%) !important; /* --primary-foreground */
}

button[role="switch"][data-state="unchecked"] span {
  transform: translateX(0px) !important;
  background-color: hsl(0 0% 90%) !important;
}

/* Override Tailwind classes directly */
.h-6[role="switch"] {
  height: 24px !important;
}

.w-11[role="switch"] {
  width: 44px !important;
}

/* Theme-specific overrides */
.fluid-theme button[role="switch"],
.solid-theme button[role="switch"],
html body button[role="switch"] {
  height: 24px !important;
  width: 44px !important;
  min-height: 24px !important;
  max-height: 24px !important;
}

/* Global Task Card Checkbox Alignment */
/* Target task checkbox buttons (Square icons) */
button[aria-label*="Mark"] {
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  margin: 0 auto !important;
}

/* Target task card containers */
.flex.items-center.gap-3.flex-1.min-w-0 {
  align-items: center !important;
}

.flex.items-center.gap-3.flex-1.min-w-0 button {
  align-self: center !important;
  margin: 0 auto !important;
}

/* General task card checkbox alignment */
[data-task="true"] .flex.items-center,
.task-item .flex.items-center {
  justify-content: center !important;
}

[data-task="true"] button,
.task-item button {
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  margin: 0 auto !important;
}

/* Global Card Layout & Spacing Standards */
.card-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.25rem;
  margin-block: 2rem;
}

.section-gap {
  margin-bottom: 2rem;
}

.layout-stack {
  display: flex;
  flex-direction: column;
  gap: 1.25rem;
}

.card-standard {
  padding: 1.25rem 1.5rem !important;
  border-radius: 1rem !important;
  margin-bottom: 1.25rem;
}

.card-content-standard {
  padding: 1.25rem 1.5rem !important;
}

.stats-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 1rem;
}

.stat-card {
  min-width: 150px;
}

.help-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 1rem;
}

/* Enhanced spacing for better visual hierarchy */
.section-separator {
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  margin-bottom: 2rem;
  padding-bottom: 1rem;
}

/* Card nested content spacing */
.card-nested-item {
  margin: 0.5rem 0;
  padding: 0.75rem;
}

/* Force dropdown styling with maximum specificity */
html body [data-radix-select-content],
html body.fluid-theme [data-radix-select-content],
html [data-radix-select-content] {
  background-color: rgba(14, 14, 17, 0.98) !important;
  background: rgba(14, 14, 17, 0.98) !important;
  border: 2px solid rgba(255, 255, 255, 0.25) !important;
  color: #f0f0f5 !important;
  backdrop-filter: blur(24px) !important;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.7) !important;
  z-index: 999999 !important;
}

html body [data-radix-select-item],
html body.fluid-theme [data-radix-select-item],
html [data-radix-select-item] {
  color: #f0f0f5 !important;
  background-color: transparent !important;
  background: transparent !important;
  padding: 12px 16px !important;
  margin: 2px !important;
  border-radius: 8px !important;
  font-weight: 400 !important;
}

html body [data-radix-select-item][data-highlighted],
html body [data-radix-select-item]:hover,
html body.fluid-theme [data-radix-select-item][data-highlighted],
html body.fluid-theme [data-radix-select-item]:hover,
html [data-radix-select-item][data-highlighted],
html [data-radix-select-item]:hover {
  background-color: rgba(255, 255, 255, 0.15) !important;
  background: rgba(255, 255, 255, 0.15) !important;
  color: #ffffff !important;
}

html body [data-radix-select-item][data-state="checked"],
html body.fluid-theme [data-radix-select-item][data-state="checked"],
html [data-radix-select-item][data-state="checked"] {
  background-color: #3399ff !important;
  background: #3399ff !important;
  color: #000000 !important;
  font-weight: 600 !important;
}

/* Voice UI - Ambient assistant feel */
.fluid-theme .voice-modal,
.fluid-theme [data-voice-modal] {
  background: rgba(14, 14, 17, 0.95) !important;
  backdrop-filter: blur(24px) !important;
}

/* Micro-interactions */
.fluid-theme [data-interactive]:hover {
  transform: translateY(-1px) !important;
  transition: transform 150ms ease-out !important;
}

.fluid-theme [data-glow] {
  animation: gentle-pulse 2s ease-in-out infinite !important;
}

@keyframes gentle-pulse {
  0%, 100% { 
    box-shadow: 0 0 5px var(--theme-accent-muted);
  }
  50% { 
    box-shadow: 0 0 20px var(--theme-accent), 0 0 30px hsla(200, 80%, 60%, 0.3);
  }
}

/* Remove aggressive uppercase styling */
.fluid-theme .uppercase {
  text-transform: none !important;
}

.fluid-theme .section-title {
  text-transform: none !important;
  font-weight: 500 !important;
  color: var(--theme-text-secondary) !important;
}

.brain-loader .thinking-text {
  font-size: 14px !important;
  font-weight: 400 !important;
  font-family: 'Ubuntu', system-ui, -apple-system, sans-serif !important;
  letter-spacing: 0.5px !important;
  animation: text-fade 2s ease-in-out infinite alternate !important;
  margin-top: 4px !important;
}

.brain-loader .progress-bar {
  width: 120px !important;
  height: 2px !important;
  background-color: rgba(198, 214, 0, 0.2) !important;
  border-radius: 1px !important;
  overflow: hidden !important;
  margin-top: 12px !important;
}

.brain-loader .progress-fill {
  height: 100% !important;
  background: linear-gradient(90deg, transparent, #C6D600, transparent) !important;
  width: 40% !important;
  animation: progress-flow 2s ease-in-out infinite !important;
}

/* iOS-style momentum scrolling for all elements */
* {
  -webkit-overflow-scrolling: touch;
  scroll-behavior: smooth;
  overscroll-behavior: auto;
}

/* iOS-optimized scroll physics with natural momentum */
.overflow-y-auto,
.overflow-auto,
[role="main"],
.space-y-3,
.space-y-4,
.space-y-6,
.thoughtmarks-grid,
.bins-grid,
.dashboard-content {
  -webkit-overflow-scrolling: touch !important;
  scroll-behavior: auto !important;
  overscroll-behavior: contain !important;
  scroll-snap-type: none !important;
  scrollbar-width: none;
  -ms-overflow-style: none;
  transform: translateZ(0);
  will-change: scroll-position;
  backface-visibility: hidden;
  /* iOS momentum physics - reduced friction (.005) and high inertia (.99) */
  -webkit-scroll-deceleration-rate: 0.99;
  scroll-padding: 0;
  /* Smooth momentum with natural deceleration */
  scroll-timeline: auto;
  overscroll-behavior-y: contain;
  overscroll-behavior-x: none;
}

/* Hide scrollbars but keep functionality */
.overflow-y-auto::-webkit-scrollbar,
.overflow-auto::-webkit-scrollbar {
  display: none;
}

/* iOS-optimized touch interactions */
.touch-target {
  min-height: 44px;
  min-width: 44px;
  display: flex;
  align-items: center;
  justify-content: center;
  touch-action: manipulation;
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
}

.interactive-card {
  transition: all 0.15s cubic-bezier(0.4, 0, 0.2, 1);
  cursor: pointer;
  touch-action: manipulation;
  -webkit-tap-highlight-color: transparent;
  transform: translateZ(0);
  backface-visibility: hidden;
}

.interactive-card:hover {
  transform: translateY(-1px) translateZ(0);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

.interactive-card:active {
  transform: translateY(0) scale(0.97) translateZ(0);
  transition: all 0.1s cubic-bezier(0.4, 0, 1, 1);
}

/* Enhanced sparkle animation */
@keyframes sparkle {
  0%, 100% {
    opacity: 0.4;
    transform: scale(1) rotate(0deg);
  }
  25% {
    opacity: 1;
    transform: scale(1.2) rotate(90deg);
  }
  50% {
    opacity: 0.6;
    transform: scale(0.8) rotate(180deg);
  }
  75% {
    opacity: 1;
    transform: scale(1.1) rotate(270deg);
  }
}

.animate-sparkle {
  animation: sparkle 2s ease-in-out infinite;
}

/* Enhanced swipe gesture feedback */
.swipe-container {
  position: relative;
  overflow: hidden;
  touch-action: pan-y;
}

.swipe-content {
  transition: transform 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  will-change: transform;
  transform: translateZ(0);
}

/* Enhanced shimmer animation for skeleton loading */
@keyframes shimmer {
  0% {
    transform: translateX(-100%);
    opacity: 0;
  }
  50% {
    opacity: 1;
  }
  100% {
    transform: translateX(100%);
    opacity: 0;
  }
}

.shimmer {
  position: relative;
  overflow: hidden;
}

.shimmer::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(
    90deg,
    transparent 0%,
    rgba(255, 255, 255, 0.1) 50%,
    transparent 100%
  );
  animation: shimmer 2s infinite;
  pointer-events: none;
}

/* Global page transition animations */
@keyframes fade-in {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slide-in-right {
  from {
    transform: translateX(100%);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

@keyframes slide-out-left {
  from {
    transform: translateX(0);
    opacity: 1;
  }
  to {
    transform: translateX(-100%);
    opacity: 0;
  }
}

.animate-fade-in {
  animation: fade-in 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-slide-in-right {
  animation: slide-in-right 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-slide-out-left {
  animation: slide-out-left 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Comprehensive micro-animations for all interactive elements */
button, .clickable, [role="button"], .interactive-card, .thoughtmark-card, .bin-card {
  transition: all 0.15s cubic-bezier(0.4, 0, 0.2, 1);
  transform: translateZ(0);
  backface-visibility: hidden;
}

button:hover, .clickable:hover, [role="button"]:hover, .interactive-card:hover, .thoughtmark-card:hover, .bin-card:hover {
  transform: translateY(-1px) translateZ(0);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

button:active, .clickable:active, [role="button"]:active, .interactive-card:active, .thoughtmark-card:active, .bin-card:active {
  transform: scale(0.97) translateZ(0);
  transition: all 0.1s cubic-bezier(0.4, 0, 1, 1);
}

/* Haptic feedback simulation through visual cues */
.haptic-light {
  animation: haptic-pulse-light 0.1s ease-out;
}

.haptic-medium {
  animation: haptic-pulse-medium 0.15s ease-out;
}

.haptic-heavy {
  animation: haptic-pulse-heavy 0.2s ease-out;
}

@keyframes haptic-pulse-light {
  0% { transform: scale(1); }
  50% { transform: scale(0.99); }
  100% { transform: scale(1); }
}

@keyframes haptic-pulse-medium {
  0% { transform: scale(1); }
  50% { transform: scale(0.97); }
  100% { transform: scale(1); }
}

@keyframes haptic-pulse-heavy {
  0% { transform: scale(1); }
  50% { transform: scale(0.95); }
  100% { transform: scale(1); }
}

/* Stagger animations for lists */
.stagger-animation > * {
  animation: fade-in 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.stagger-animation > *:nth-child(1) { animation-delay: 0ms; }
.stagger-animation > *:nth-child(2) { animation-delay: 50ms; }
.stagger-animation > *:nth-child(3) { animation-delay: 100ms; }
.stagger-animation > *:nth-child(4) { animation-delay: 150ms; }
.stagger-animation > *:nth-child(5) { animation-delay: 200ms; }
.stagger-animation > *:nth-child(6) { animation-delay: 250ms; }
.stagger-animation > *:nth-child(7) { animation-delay: 300ms; }
.stagger-animation > *:nth-child(8) { animation-delay: 350ms; }

/* Fix dropdown z-index and visibility issues */
[data-radix-select-content] {
  z-index: 9999 !important;
  background-color: #1A1A1A !important;
  border: 1px solid #333333 !important;
  color: #FAFAFA !important;
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.5), 0 4px 6px -2px rgba(0, 0, 0, 0.3) !important;
  border-radius: 8px !important;
  min-width: 8rem !important;
  overflow: hidden !important;
}

[data-radix-select-item] {
  color: #FAFAFA !important;
  background-color: transparent !important;
  padding: 0.5rem 0.75rem !important;
  cursor: pointer !important;
  transition: all 0.15s ease !important;
}

[data-radix-select-item]:hover,
[data-radix-select-item][data-highlighted] {
  background-color: #262626 !important;
  color: #FAFAFA !important;
  outline: none !important;
}

[data-radix-select-item][data-state="checked"] {
  background-color: #C6D600 !important;
  color: #0F0F0F !important;
}

[data-radix-select-trigger] {
  background-color: #1A1A1A !important;
  border: 1px solid #333333 !important;
  color: #FAFAFA !important;
  padding: 0.5rem 0.75rem !important;
  border-radius: 6px !important;
  cursor: pointer !important;
  transition: all 0.15s ease !important;
}

[data-radix-select-trigger]:hover {
  border-color: #666666 !important;
}

[data-radix-select-trigger]:focus {
  border-color: #C6D600 !important;
  box-shadow: 0 0 0 2px rgba(198, 214, 0, 0.2) !important;
  outline: none !important;
}

[data-radix-select-viewport] {
  padding: 0.25rem !important;
}

/* Ensure dropdowns appear above other content */
[data-radix-popper-content-wrapper] {
  z-index: 9999 !important;
}

/* Fix for collection bins dropdown specifically */
.bg-gray-800.border-gray-700 {
  background-color: #1A1A1A !important;
  border-color: #333333 !important;
  color: #FAFAFA !important;
}

/* Fix Popover dropdowns for tag selector */
[data-radix-popover-content] {
  z-index: 9999 !important;
  background-color: #1A1A1A !important;
  border: 1px solid #333333 !important;
  color: #FAFAFA !important;
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.5), 0 4px 6px -2px rgba(0, 0, 0, 0.3) !important;
  border-radius: 8px !important;
}

[data-radix-popover-trigger] {
  background-color: #1A1A1A !important;
  border: 1px solid #333333 !important;
  color: #FAFAFA !important;
  transition: all 0.15s ease !important;
}

[data-radix-popover-trigger]:hover {
  border-color: #666666 !important;
  background-color: #262626 !important;
}

[data-radix-popover-trigger]:focus {
  border-color: #C6D600 !important;
  box-shadow: 0 0 0 2px rgba(198, 214, 0, 0.2) !important;
  outline: none !important;
}

/* Ensure all dropdown portals have high z-index */
[data-radix-portal] {
  z-index: 9999 !important;
}

:root {
  --background: 0 0% 98%; /* #FAFAFA - Light mode background */
  --foreground: 0 0% 6%; /* #0F0F0F - Light mode text */
  --muted: 0 0% 95%; /* #F2F2F2 - Light mode muted background */
  --muted-foreground: 0 0% 40%; /* #666666 - Light mode muted text */
  --popover: 0 0% 100%; /* #FFFFFF - Light mode popover */
  --popover-foreground: 0 0% 6%; /* #0F0F0F - Light mode popover text */
  --card: 0 0% 100%; /* #FFFFFF - Light mode card */
  --card-foreground: 0 0% 6%; /* #0F0F0F - Light mode card text */
  --border: 0 0% 90%; /* #E5E5E5 - Light mode borders */
  --input: 0 0% 95%; /* #F2F2F2 - Light mode inputs */
  --primary: 66 100% 39%; /* #C6D600 - Keep neon green */
  --primary-foreground: 0 0% 6%; /* #0F0F0F - Dark text on neon */
  --secondary: 0 0% 95%; /* #F2F2F2 - Light mode secondary */
  --secondary-foreground: 0 0% 6%; /* #0F0F0F - Light mode secondary text */
  --accent: 0 0% 95%; /* #F2F2F2 - Light mode accent */
  --accent-foreground: 0 0% 6%; /* #0F0F0F - Light mode accent text */
  --destructive: 0 84% 60%; /* #EF4444 - Keep red */
  --destructive-foreground: 0 0% 98%; /* #FAFAFA - White text on red */
  --ring: 66 100% 39%; /* #C6D600 - Keep neon green for focus rings */
  --radius: 0.75rem;
}

.dark {
  --background: 0 0% 6%; /* #0F0F0F */
  --foreground: 0 0% 98%; /* #FAFAFA */
  --muted: 0 0% 15%; /* #262626 */
  --muted-foreground: 0 0% 64%; /* #A3A3A3 */
  --popover: 0 0% 10%; /* #1A1A1A - Darker for better contrast */
  --popover-foreground: 0 0% 98%; /* #FAFAFA */
  --card: 0 0% 10%; /* #1A1A1A */
  --card-foreground: 0 0% 98%; /* #FAFAFA */
  --border: 0 0% 20%; /* #333333 */
  --input: 0 0% 20%; /* #333333 */
  --primary: 66 100% 39%; /* #C6D600 */
  --primary-foreground: 0 0% 6%; /* #0F0F0F */
  --secondary: 0 0% 15%; /* #262626 */
  --secondary-foreground: 0 0% 98%; /* #FAFAFA */
  --accent: 0 0% 15%; /* #262626 */
  --accent-foreground: 0 0% 98%; /* #FAFAFA */
  --destructive: 0 84% 60%; /* #EF4444 */
  --destructive-foreground: 0 0% 98%; /* #FAFAFA */
  --ring: 66 100% 39%; /* #C6D600 */
  --radius: 0.75rem;
}

/* Playful Tutorial Animations */
@keyframes bounce-gentle {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-4px); }
}

@keyframes fade-in-up {
  0% {
    opacity: 0;
    transform: translateY(20px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes pulse-neon {
  0%, 100% {
    box-shadow: 0 0 0 0 rgba(198, 214, 0, 0.7);
  }
  50% {
    box-shadow: 0 0 0 8px rgba(198, 214, 0, 0);
  }
}

@keyframes tooltip-pop {
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.05);
  }
  100% {
    transform: scale(1);
  }
}

@keyframes shimmer {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

.animate-bounce-gentle {
  animation: bounce-gentle 2s ease-in-out infinite;
}

.animate-fade-in-up {
  animation: fade-in-up 0.6s ease-out forwards;
}

.animate-pulse-neon {
  animation: pulse-neon 2s infinite;
}

.animate-tooltip-pop {
  animation: tooltip-pop 0.3s ease-out;
}

.animate-shimmer {
  background: linear-gradient(90deg, transparent, rgba(198, 214, 0, 0.2), transparent);
  background-size: 200% 100%;
  animation: shimmer 2s infinite;
}

/* Enhanced interactive elements */
.tutorial-highlight {
  position: relative;
  z-index: 60;
}

.tutorial-highlight::before {
  content: '';
  position: absolute;
  top: -8px;
  left: -8px;
  right: -8px;
  bottom: -8px;
  border: 2px solid #C6D600;
  border-radius: 8px;
  background: rgba(198, 214, 0, 0.1);
  animation: pulse-neon 2s infinite;
  pointer-events: none;
}

/* Smooth transitions for tutorial elements */
.tutorial-transition {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Enhanced scroll momentum for mobile */
.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
  -webkit-overflow-scrolling: touch;
  scroll-behavior: smooth;
  overscroll-behavior: contain;
}

.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

/* Global enhanced scroll momentum */
* {
  -webkit-overflow-scrolling: touch;
}

.enhanced-scroll {
  -webkit-overflow-scrolling: touch;
  scroll-behavior: smooth;
  overscroll-behavior: auto;
  transform: translateZ(0);
  will-change: scroll-position;
}

/* Advanced momentum scrolling with physics */
.momentum-scroll {
  -webkit-overflow-scrolling: touch;
  scroll-behavior: smooth;
  overscroll-behavior: auto;
  transform: translateZ(0);
  will-change: scroll-position;
  backface-visibility: hidden;
  scroll-snap-type: y proximity;
  scroll-padding: 20px;
}

/* Enhanced touch feedback */
.touch-feedback {
  transition: all 0.15s cubic-bezier(0.4, 0, 0.2, 1);
  transform: translateZ(0);
  will-change: transform;
}

.touch-feedback:active {
  transform: scale(0.98) translateZ(0);
  filter: brightness(0.95);
}

/* Haptic-like visual feedback */
@keyframes haptic-pulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.02); }
  100% { transform: scale(1); }
}

.haptic-feedback:active {
  animation: haptic-pulse 0.1s ease-out;
}

/* Fluid card animations */
.card-hover {
  transition: transform 0.2s cubic-bezier(0.4, 0, 0.2, 1),
              box-shadow 0.2s cubic-bezier(0.4, 0, 0.2, 1),
              filter 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

.card-hover:hover {
  transform: translateY(-2px) translateZ(0);
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
  filter: brightness(1.05);
}

/* Enhanced loading states */
@keyframes skeleton-wave {
  0% { transform: translateX(-100%); }
  50% { transform: translateX(100%); }
  100% { transform: translateX(100%); }
}

.skeleton-loader {
  position: relative;
  overflow: hidden;
  background: linear-gradient(90deg, #1a1a1a 25%, #2a2a2a 50%, #1a1a1a 75%);
  background-size: 200% 100%;
}

.skeleton-loader::after {
  content: '';
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
  animation: skeleton-wave 1.6s linear infinite;
}

/* Floating Portal System */
.floating-portal-container {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 1000;
}

/* Floating Navigation Layer */
.floating-nav-layer {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  pointer-events: none;
  z-index: 50;
}

.floating-nav-layer > * {
  pointer-events: auto;
}

/* Floating Button Layer */
.floating-button-layer {
  position: fixed;
  pointer-events: none;
  z-index: 60;
}

.floating-button-layer > * {
  pointer-events: auto;
}

/* Fluid Theme - Clean nesting architecture */
.fluid-theme .glass-surface {
  /* Only apply glass effects to outermost containers */
  background: var(--theme-surface);
  backdrop-filter: var(--theme-blur-glass);
  border: 1px solid var(--theme-border);
  border-radius: var(--theme-radius-md);
  padding: 1.5rem;
}

.fluid-theme .card-glass,
.fluid-theme .bin-card,
.fluid-theme .interactive-card,
.fluid-theme .action-card,
.fluid-theme .settings-card,
.fluid-theme .stats-card,
.fluid-theme .help-card,
.fluid-theme .ai-tool-card,
.fluid-theme .suggestion-card,
.fluid-theme .tooltip-panel,
.fluid-theme .settings-toggle-card,
.fluid-theme [data-radix-dialog-content],
.fluid-theme [data-radix-popover-content],
.fluid-theme [data-radix-tooltip-content],
.fluid-theme .dialog-content,
.fluid-theme .modal-content,
.fluid-theme .popover-content {
  /* Subtle glassmorphism styling */
  background: rgba(255, 255, 255, 0.02) !important;
  backdrop-filter: blur(14px) !important;
  -webkit-backdrop-filter: blur(14px) !important;
  border: 1px solid rgba(255, 255, 255, 0.08) !important;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.25) !important;
  border-radius: 12px !important;
  padding: 0.75rem 1rem;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

/* Mobile-first: Active/pressed states with iOS-style feedback */
.fluid-theme .card-glass:active,
.fluid-theme .bin-card:active,
.fluid-theme .interactive-card:active,
.fluid-theme .action-card:active,
.fluid-theme .settings-card:active,
.fluid-theme .stats-card:active,
.fluid-theme .help-card:active,
.fluid-theme .ai-tool-card:active,
.fluid-theme .suggestion-card:active {
  background: rgba(255, 255, 255, 0.06) !important;
  border-color: rgba(255, 255, 255, 0.15) !important;
  transform: scale(0.98) !important;
  transition: all 0.1s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

/* iOS-style bounce back animation */
.fluid-theme .card-glass,
.fluid-theme .bin-card,
.fluid-theme .interactive-card,
.fluid-theme .action-card,
.fluid-theme .settings-card,
.fluid-theme .stats-card,
.fluid-theme .help-card,
.fluid-theme .ai-tool-card,
.fluid-theme .suggestion-card {
  transition: all 0.2s cubic-bezier(0.68, -0.55, 0.265, 1.55) !important;
}

/* Touch-optimized button sizing */
.fluid-theme button,
.fluid-theme .btn {
  min-height: 44px !important;
  min-width: 44px !important;
  touch-action: manipulation !important;
}

/* Navigation buttons - Touch-friendly */
.fluid-theme .bottom-nav button {
  min-height: 48px !important;
  min-width: 48px !important;
  touch-action: manipulation !important;
}

/* Floating action button - Touch-friendly */
.fluid-theme .floating-action-button,
.fluid-theme [data-fab] {
  min-height: 56px !important;
  min-width: 56px !important;
  touch-action: manipulation !important;
}

/* Disabled - Remove ALL styling from nested content */
/* This rule was preventing glassmorphism effects from showing */

/* Disabled - Specific overrides that were preventing glass effects */
/* These rules were stripping backgrounds from glass cards */

/* AI suggestions cleanup */
.fluid-theme *[class*="suggestion"],
.fluid-theme *[class*="ai-"],
.fluid-theme .ai-section,
.fluid-theme .ai-container {
  background: transparent !important;
  border: none !important;
  outline: none !important;
  box-shadow: none !important;
  backdrop-filter: none !important;
}

/* Back Button - Consistent across all themes */
.back-button {
  display: flex;
  align-items: center;
  gap: 0.4rem;
  font-weight: 500;
  font-size: 0.95rem;
  color: var(--theme-text-muted);
  background: none;
  border: none;
  cursor: pointer;
  padding: 0.5rem;
  transition: color var(--theme-transition-base);
}

.back-button:hover {
  color: var(--theme-accent);
}

.fluid-theme .back-button {
  color: #8c8c95;
}

.fluid-theme .back-button:hover {
  color: hsl(210, 60%, 52%);
}

.solid-theme .back-button {
  color: #9ca3af;
}

.solid-theme .back-button:hover {
  color: #3b82f6;
}

/* Optimized scroll containers */
.scroll-container {
  -webkit-overflow-scrolling: touch;
  scroll-behavior: smooth;
  overscroll-behavior: auto;
  scrollbar-width: none;
  -ms-overflow-style: none;
  transform: translateZ(0);
  will-change: scroll-position;
  backface-visibility: hidden;
  contain: layout style paint;
  scroll-padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
}

.scroll-container::-webkit-scrollbar {
  display: none;
}

/* Performance optimizations */
.gpu-accelerated {
  transform: translateZ(0);
  will-change: transform;
  backface-visibility: hidden;
  perspective: 1000px;
}

/* Enhanced animations with reduced motion support */
@media (prefers-reduced-motion: no-preference) {
  .animate-enhanced {
    animation-duration: 0.3s;
    animation-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  }
}

@media (prefers-reduced-motion: reduce) {
  .animate-enhanced {
    animation: none;
    transition: none;
  }
}

/* iOS Safe Area Support and WebView Fixes */
html, body {
  overflow-x: hidden;
  margin: 0;
  padding: 0;
  height: 100%;
}

/* Mobile phone toolbar scrolling fix */
@media (max-width: 768px) {
  body::after {
    content: '';
    display: block;
    height: 200px;
    background: #000;
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    pointer-events: none;
    z-index: -1;
  }
}

* {
  box-sizing: border-box;
}

html {
  /* Enable safe area support but don't apply padding here */
  height: 100%;
}

/* Root app container adjustments */
#root {
  min-height: 100vh;
  min-height: 100dvh;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
  scroll-behavior: smooth;
  /* Apply safe area padding to the root container */
  padding-top: env(safe-area-inset-top);
  padding-bottom: env(safe-area-inset-bottom);
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
}

/* Enhanced scrolling momentum */
body {
  overscroll-behavior: auto;
  -webkit-overflow-scrolling: touch;
  scroll-behavior: smooth;
  /* Ensure full height for mobile */
  min-height: 100vh;
  min-height: 100dvh;
}

/* Additional iOS WebView fixes */
@supports (-webkit-touch-callout: none) {
  /* iOS specific styles */
  body {
    /* Prevent zoom on input focus */
    -webkit-text-size-adjust: 100%;
  }
  
  #root {
    /* Ensure proper viewport handling */
    position: relative;
    width: 100%;
    min-height: -webkit-fill-available;
  }
}

/* iOS Toolbar Masking - Fixed overlay to hide status bar area */
.ios-toolbar-mask {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  height: env(safe-area-inset-top, 44px);
  background: #0F0F0F; /* Match dark theme background */
  z-index: 9999;
  pointer-events: none;
}

/* Content margin to account for the mask */
.ios-content-offset {
  margin-top: env(safe-area-inset-top, 44px);
}

/* Global iOS-style layout classes */
.ios-safe-top {
  padding-top: max(env(safe-area-inset-top), 20px);
}

.ios-safe-bottom {
  padding-bottom: max(env(safe-area-inset-bottom), 20px);
}

/* Enhanced iOS-style scrolling with high inertia and low friction */
* {
  -webkit-overflow-scrolling: touch;
  scroll-behavior: auto; /* Remove artificial smoothing for natural physics */
}

/* High-momentum scrolling for all content areas */
body, 
#root,
.page-content, 
[data-scroll-container], 
.overflow-y-auto,
.overflow-auto,
div[class*="overflow"],
.space-y-3,
.space-y-4,
.space-y-6 {
  -webkit-overflow-scrolling: touch;
  overscroll-behavior: auto; /* Allow natural bounce */
  scroll-behavior: auto; /* Native momentum physics */
  -webkit-scroll-physics: momentum; /* iOS momentum scrolling */
  scroll-snap-type: none; /* No snap interference */
}

/* Mobile-optimized high-inertia scrolling */
@media (hover: none) and (pointer: coarse) {
  body, #root {
    overscroll-behavior: auto;
    -webkit-overflow-scrolling: touch;
    -webkit-scroll-physics: momentum;
  }
  
  /* Maximum momentum for all scrollable elements */
  .overflow-y-auto,
  .overflow-auto,
  .overflow-scroll,
  [role="main"],
  .scrollbar-hide,
  .no-scrollbar {
    scroll-snap-type: none;
    overscroll-behavior-y: auto;
    overscroll-behavior-x: auto;
    -webkit-overflow-scrolling: touch;
    -webkit-scroll-physics: momentum;
    scroll-behavior: auto;
    /* Remove artificial friction */
    scroll-snap-stop: normal;
    scroll-padding: 0;
  }

  /* Reduce scroll resistance for lists and containers */
  ul, ol, div[class*="space-y"], .grid {
    -webkit-overflow-scrolling: touch;
    overscroll-behavior: auto;
  }

  /* Enhanced momentum for specific UI elements */
  .thoughtmark-card,
  .bin-card,
  .settings-section {
    -webkit-overflow-scrolling: touch;
    overscroll-behavior: auto;
  }
}

/* Custom scroll physics tuning */
:root {
  --scroll-momentum: 0.95; /* Higher = more inertia */
  --scroll-friction: 0.02; /* Lower = less friction */
  --scroll-bounce: 0.3; /* Natural bounce amount */
}

/* Remove all scroll snapping and artificial constraints */
.no-scroll-snap {
  scroll-snap-type: none !important;
  scroll-snap-align: none !important;
  scroll-snap-stop: normal !important;
}

/* Apply to all major containers */
.space-y-3,
.space-y-4,
.space-y-6,
.grid,
.flex-col {
  scroll-snap-type: none;
  scroll-snap-align: none;
}

/* Mobile UX Optimizations */
/* Touch target improvements - minimum 44px as per Apple HIG */
.touch-target {
  min-height: 44px;
  min-width: 44px;
}

/* Enhanced touch feedback */
.touch-manipulation {
  touch-action: manipulation;
  -webkit-tap-highlight-color: transparent;
}

/* Button active states for mobile */
button:active,
.btn:active {
  transform: scale(0.98);
  transition: transform 0.1s ease;
}

/* Improved form inputs for mobile */
input, textarea, select {
  font-size: 16px; /* Prevents zoom on iOS */
  -webkit-appearance: none;
  border-radius: 8px;
}

/* Loading spinner optimizations */
@keyframes smooth-spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

.animate-spin {
  animation: smooth-spin 1s linear infinite;
}

/* Pull-to-refresh indicator */
.pull-to-refresh {
  transform: translateY(-50px);
  opacity: 0;
  transition: all 0.3s ease;
}

.pull-to-refresh.active {
  transform: translateY(0);
  opacity: 1;
}

/* Haptic feedback simulation */
.haptic-light:active {
  animation: haptic-pulse 0.1s ease;
}

@keyframes haptic-pulse {
  0% { transform: scale(1); }
  50% { transform: scale(0.98); }
  100% { transform: scale(1); }
}

@keyframes sparkle {
  0%, 100% { 
    opacity: 0.3; 
    transform: scale(1) rotate(0deg); 
  }
  50% { 
    opacity: 1; 
    transform: scale(1.2) rotate(180deg); 
  }
}

/* Tooltip scroll animation styles */
.tooltip {
  opacity: 0;
  transform: translateY(10px);
  transition: all 0.3s ease-out;
}

.tooltip.visible {
  opacity: 1;
  transform: translateY(0);
}

/* Enhanced tooltip sparkle fade-in */
.tooltip-sparkle {
  opacity: 0;
  transform: scale(0.8);
  transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

.tooltip-sparkle.visible {
  opacity: 1;
  transform: scale(1);
}

/* Dark mode content visibility */
@media (prefers-color-scheme: dark) {
  body {
    color-scheme: dark;
  }
}

/* Reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* Swipe navigation visual feedback */
.swipe-back-indicator {
  position: fixed;
  top: 50%;
  left: 20px;
  transform: translateY(-50%);
  opacity: 0;
  transition: opacity 0.2s ease;
  pointer-events: none;
  z-index: 100;
}

.swipe-back-indicator.active {
  opacity: 0.8;
}

/* Elastic swipe navigation effects */
.page-transition {
  transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  will-change: transform;
}

.page-transition.swipe-right {
  transform: translateX(100%);
}

.page-swipe-container {
  transition: transform 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  will-change: transform;
}

.page-swipe-container.elastic {
  transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

/* Edge swipe detection zone with visual feedback */
.swipe-edge-zone {
  position: fixed;
  top: 0;
  left: 0;
  width: 20px;
  height: 100%;
  z-index: 50;
  pointer-events: none;
  background: linear-gradient(
    to right,
    rgba(198, 214, 0, 0.1) 0%,
    transparent 100%
  );
  opacity: 0;
  transition: opacity 0.3s ease;
}

.swipe-edge-zone.active {
  opacity: 1;
}

/* Progressive swipe visual feedback */
.swipe-progress-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    to right,
    rgba(198, 214, 0, 0.05) 0%,
    transparent 30%
  );
  opacity: 0;
  pointer-events: none;
  z-index: 40;
  transition: opacity 0.2s ease;
}

.swipe-progress-overlay.active {
  opacity: 1;
}

/* Elastic swipe gesture animations */
@keyframes elastic-swipe {
  0% { 
    transform: translateX(0) scale(1);
    box-shadow: -2px 0 10px rgba(198, 214, 0, 0); 
  }
  50% { 
    transform: translateX(20px) scale(1.02);
    box-shadow: -8px 0 30px rgba(198, 214, 0, 0.4); 
  }
  100% { 
    transform: translateX(100%) scale(0.95);
    box-shadow: -15px 0 50px rgba(198, 214, 0, 0.6); 
  }
}

@keyframes elastic-bounce-back {
  0% { 
    transform: translateX(var(--swipe-distance, 0)) scale(1.02);
  }
  60% { 
    transform: translateX(-10px) scale(0.98);
  }
  100% { 
    transform: translateX(0) scale(1);
  }
}

.swipe-active {
  animation: elastic-swipe 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

.swipe-bounce-back {
  animation: elastic-bounce-back 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

/* Enhanced swipe back indicator with elastic scaling */
.swipe-back-indicator {
  transform: translateY(-50%) scale(0.8);
  transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

.swipe-back-indicator.active {
  opacity: 1;
  transform: translateY(-50%) scale(1.1);
}

.swipe-back-indicator.progress {
  transform: translateY(-50%) scale(calc(0.8 + var(--progress, 0) * 0.6));
}

.ios-nav-spacing {
  /* Bottom nav with safe area + breathing room */
  padding-bottom: calc(env(safe-area-inset-bottom) + 12px);
  height: 50px;
}

/* Fixed top fade overlay for iOS-style content underlap */
/* .header-fade-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: calc(env(safe-area-inset-top) + 20px);
  background: linear-gradient(to bottom, rgba(0, 0, 0, 0.8) 0%, rgba(0, 0, 0, 0.4) 70%, rgba(0, 0, 0, 0) 100%);
  pointer-events: none;
  z-index: 9995;
} */

/* Constrain content to safe zone */
.content-underlap {
  /* Start content below safe area */
  margin-top: env(safe-area-inset-top);
  padding-top: 0px;
  padding-bottom: 400px;
  /* Prevent content overflow into unsafe zones */
  position: relative;
  overflow-x: hidden;
  overflow-y: auto;
  min-height: calc(100vh - env(safe-area-inset-top) - env(safe-area-inset-bottom));
  /* Smooth scrolling on iOS */
  -webkit-overflow-scrolling: touch;
  /* Prevent content from being pulled up */
  transform: translateZ(0);
}

/* Mobile viewport fixes */
@supports (-webkit-touch-callout: none) {
  /* iOS specific styles */
  body {
    /* Prevent bounce scroll but allow normal scrolling */
    overscroll-behavior-y: contain;
    overscroll-behavior-x: none;
    /* Fix viewport on iOS */
    min-height: -webkit-fill-available;
    /* Smooth scrolling */
    -webkit-overflow-scrolling: touch;
  }
  
  html {
    /* Fix iOS viewport height */
    height: -webkit-fill-available;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply font-sans antialiased bg-background text-foreground;
    font-family: 'Ubuntu', system-ui, -apple-system, sans-serif;
    font-weight: 400;
  }

  html {
    scroll-behavior: smooth;
  }
}

/* Typography System */
.font-title {
  font-family: 'Oswald', 'Arial Black', sans-serif;
  font-weight: 900;
  text-transform: uppercase;
  letter-spacing: 0.02em;
}

.font-subtitle {
  font-family: 'Ubuntu', sans-serif;
  font-weight: 600;
  text-transform: capitalize;
}

.font-body {
  font-family: 'Ubuntu', sans-serif;
  font-weight: 400;
  text-transform: lowercase;
}

/* Enhanced Animations */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideInRight {
  from {
    opacity: 0;
    transform: translateX(20px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes scaleIn {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes pulse-glow {
  0%, 100% {
    box-shadow: 0 0 0 0 rgba(198, 214, 0, 0.7);
  }
  50% {
    box-shadow: 0 0 0 10px rgba(198, 214, 0, 0);
  }
}

.animate-fade-in-up {
  animation: fadeInUp 0.6s ease-out;
}

.animate-slide-in-right {
  animation: slideInRight 0.4s ease-out;
}

.animate-scale-in {
  animation: scaleIn 0.3s ease-out;
}

.animate-pulse-glow {
  animation: pulse-glow 2s infinite;
}

/* Drag and Drop States */
.drag-handle {
  cursor: grab;
  transition: all 0.2s ease;
}

.drag-handle:hover {
  transform: scale(1.05);
  color: #C6D600;
}

.drag-handle:active {
  cursor: grabbing;
  transform: scale(1.1);
}

.droppable-zone {
  transition: all 0.3s ease;
}

.droppable-zone.drag-over {
  background-color: rgba(198, 214, 0, 0.1);
  border: 2px dashed #C6D600;
  transform: scale(1.02);
}

.dragging {
  opacity: 0.6;
  transform: rotate(5deg) scale(1.05);
  z-index: 1000;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
}

/* Enhanced Hover Effects */
.hover-lift {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.hover-lift:hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
}

.hover-glow {
  transition: all 0.3s ease;
}

.hover-glow:hover {
  box-shadow: 0 0 20px rgba(198, 214, 0, 0.3);
  border-color: #C6D600;
}

.hover-scale {
  transition: transform 0.2s ease;
}

.hover-scale:hover {
  transform: scale(1.02);
}

/* Button Enhancements */
.btn-enhanced {
  position: relative;
  overflow: hidden;
  transition: all 0.3s ease;
}

.btn-enhanced::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
  transition: left 0.5s;
}

.btn-enhanced:hover::before {
  left: 100%;
}

@layer utilities {
  .line-clamp-1 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 1;
  }

  .line-clamp-2 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 2;
  }

  .glass-morphism {
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    background: rgba(26, 26, 26, 0.8);
    border: 1px solid rgba(255, 255, 255, 0.1);
  }
  
  .floating-shadow {
    box-shadow: 0 8px 32px rgba(198, 214, 0, 0.3);
  }
  
  .card-shadow {
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.4);
  }
  
  .neon-glow {
    box-shadow: 0 0 10px rgba(198, 214, 0, 0.5), 0 0 20px rgba(198, 214, 0, 0.3), 0 0 30px rgba(198, 214, 0, 0.1);
  }
  
  .neon-border {
    border: 1px solid rgba(198, 214, 0, 0.6);
    box-shadow: inset 0 0 10px rgba(198, 214, 0, 0.2), 0 0 10px rgba(198, 214, 0, 0.3);
  }
  
  .neon-gradient-border {
    position: relative;
    background: linear-gradient(145deg, rgba(26, 26, 26, 1) 0%, rgba(38, 38, 38, 1) 100%);
  }
  
  .neon-gradient-border::before {
    content: '';
    position: absolute;
    inset: 0;
    padding: 1px;
    background: linear-gradient(145deg, 
      rgba(198, 214, 0, 0.8) 0%, 
      rgba(0, 255, 255, 0.6) 25%, 
      rgba(255, 0, 255, 0.5) 50%, 
      rgba(198, 214, 0, 0.8) 75%, 
      rgba(0, 255, 255, 0.6) 100%
    );
    border-radius: inherit;
    mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    mask-composite: xor;
    -webkit-mask-composite: xor;
  }
  
  .neon-text {
    color: #C6D600;
    text-shadow: 0 0 10px rgba(198, 214, 0, 0.8), 0 0 20px rgba(198, 214, 0, 0.5), 0 0 30px rgba(198, 214, 0, 0.3);
  }
  
  .neon-gradient-text {
    background: linear-gradient(145deg, #C6D600, #00FFFF, #FF00FF, #C6D600);
    background-size: 300% 300%;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    animation: neon-pulse 3s ease-in-out infinite;
  }
  
  @keyframes neon-pulse {
    0%, 100% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
  }
}

/* Dark theme by default */
html {
  color-scheme: dark;
}

/* Custom scrollbar for dark theme */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: hsl(var(--muted));
}

::-webkit-scrollbar-thumb {
  background: hsl(var(--border));
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: hsl(var(--accent));
}

/* Custom button radius overrides with higher specificity */
button.new-thoughtmark-button,
.new-thoughtmark-button {
  border-radius: 24px !important;
  -webkit-border-radius: 24px !important;
  -moz-border-radius: 24px !important;
}

button.standard-button,
.standard-button {
  border-radius: 8px !important;
  -webkit-border-radius: 8px !important;
  -moz-border-radius: 8px !important;
}

/* Hide scrollbar for horizontal tag scrolling */
.scrollbar-none {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.scrollbar-none::-webkit-scrollbar {
  display: none;
}

/* Accessibility improvements for App Store optimization */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* High contrast mode support */
.high-contrast {
  --background: 0 0% 0%;
  --foreground: 0 0% 100%;
  --primary: 60 100% 50%;
  --primary-foreground: 0 0% 0%;
  --secondary: 0 0% 20%;
  --border: 0 0% 40%;
}

/* Reduced motion preferences */
.reduced-motion * {
  animation-duration: 0.01ms !important;
  animation-iteration-count: 1 !important;
  transition-duration: 0.01ms !important;
}

/* Font size adjustments */
.font-small {
  font-size: 14px;
}

.font-large {
  font-size: 18px;
}

/* Enhanced focus indicators */
button:focus-visible,
input:focus-visible,
textarea:focus-visible,
select:focus-visible,
[role="button"]:focus-visible {
  outline: 2px solid hsl(var(--primary));
  outline-offset: 2px;
}

/* Skip to content link */
.skip-link {
  position: absolute;
  top: -40px;
  left: 6px;
  background: hsl(var(--primary));
  color: hsl(var(--primary-foreground));
  padding: 8px;
  text-decoration: none;
  border-radius: 4px;
  z-index: 9999;
}

.skip-link:focus {
  top: 6px;
}

/* ==========================================
   REFINED DARK THEME OVERRIDE - TARGETED APPROACH
   ========================================== */

/* Force page backgrounds only */
html.fluid-theme,
html.fluid-theme body,
html.fluid-theme #root {
  background-color: #0e0e11 !important;
  color: #f0f0f5 !important;
}

/* Page containers - preserve layout */
html.fluid-theme .min-h-screen {
  background-color: #0e0e11 !important;
}

/* Card backgrounds - solid dark modern styling */
html.fluid-theme .bg-card,
html.fluid-theme .bg-white,
html.fluid-theme [class*="bg-card"],
html.fluid-theme div[class*="bg-"] {
  background: hsl(220, 15%, 10%) !important;
  border: 1px solid rgba(255, 255, 255, 0.03) !important;
  border-radius: 12px !important;
  box-shadow: 0 4px 24px rgba(0, 0, 0, 0.25) !important;
}

/* Preserve navigation positioning and layout */
html.fluid-theme .floating-nav,
html.fluid-theme nav {
  position: fixed !important;
  bottom: 0 !important;
  left: 50% !important;
  transform: translateX(-50%) !important;
  z-index: 1000 !important;
  max-width: 440px !important;
  width: 100% !important;
  background: hsl(var(--background) / 0.95) !important;
  backdrop-filter: blur(20px) !important;
  border-top: 1px solid hsl(var(--border)) !important;
}

/* Fix button spacing and prevent overflow */
html.fluid-theme button {
  box-sizing: border-box !important;
  word-wrap: break-word !important;
  overflow: hidden !important;
  text-overflow: ellipsis !important;
}

/* Prevent card content overflow */
html.fluid-theme .bg-card,
html.fluid-theme [class*="bg-card"] {
  overflow: visible !important;
  box-sizing: border-box !important;
}

/* Text contrast improvements */
html.fluid-theme .text-muted-foreground {
  color: #b8b8c0 !important;
}

html.fluid-theme .text-foreground {
  color: #f0f0f5 !important;
}

/* Section View All Button Glass Effect Removal */
html.fluid-theme .section-view-all-button,
html.fluid-theme .section-view-all-button:hover,
html.fluid-theme .section-view-all-button:focus,
html.fluid-theme .section-view-all-button:active,
.fluid-theme .section-view-all-button,
.section-view-all-button.section-view-all-button,
.fluid-theme .section-view-all-button:hover,
.section-view-all-button.section-view-all-button:hover,
button.section-view-all-button,
button.section-view-all-button:hover {
  background: transparent !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  box-shadow: none !important;
  border: none !important;
  outline: none !important;
  text-shadow: none !important;
}

/* Section Header Hover Effects Removal */
html.fluid-theme .section-header-no-effects,
html.fluid-theme .section-header-no-effects:hover,
html.fluid-theme .section-header-no-effects *,
html.fluid-theme .section-header-no-effects:hover *,
.fluid-theme .section-header-no-effects,
.section-header-no-effects.section-header-no-effects,
.fluid-theme .section-header-no-effects:hover,
.section-header-no-effects.section-header-no-effects:hover,
.fluid-theme .section-header-no-effects .section-title,
.section-header-no-effects.section-header-no-effects .section-title,
.fluid-theme .section-header-no-effects:hover .section-title,
.section-header-no-effects.section-header-no-effects:hover .section-title,
div.section-header-no-effects,
div.section-header-no-effects:hover,
div.section-header-no-effects h2,
div.section-header-no-effects:hover h2 {
  box-shadow: none !important;
  text-shadow: none !important;
  background: transparent !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  border: none !important;
  transform: none !important;
  filter: none !important;
  outline: none !important;
}

/* Ultra-aggressive hover effect removal for fluid theme */
html.fluid-theme .section-header-control:hover,
html.fluid-theme .section-header-control:hover *,
html.fluid-theme [role="button"]:hover .section-title,
html.fluid-theme .section-header-no-effects:hover,
html.fluid-theme .section-header-no-effects:hover h2,
html.fluid-theme .section-header-no-effects:hover .section-title,
.fluid-theme .section-header-control:hover,
.fluid-theme .section-header-control:hover *,
.fluid-theme [role="button"]:hover .section-title {
  box-shadow: none !important;
  text-shadow: none !important;
  filter: none !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  background: transparent !important;
  border: none !important;
  outline: none !important;
  transform: none !important;
}

/* Nuclear option - target all possible fluid theme hover selectors */
html.fluid-theme div:hover h2.section-title,
html.fluid-theme .section-title:hover,
html.fluid-theme h2:hover,
html.fluid-theme .section-header-control h2:hover,
.fluid-theme div:hover h2.section-title,
.fluid-theme .section-title:hover,
.fluid-theme h2:hover,
.fluid-theme .section-header-control h2:hover {
  box-shadow: none !important;
  text-shadow: none !important;
  filter: none !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  background: transparent !important;
  border: none !important;
  outline: none !important;
  transform: none !important;
}

/* Button outline removal - all variations */
html.fluid-theme button.section-view-all-button,
html.fluid-theme button.section-view-all-button:hover,
html.fluid-theme button.section-view-all-button:focus,
html.fluid-theme button.section-view-all-button:active,
html.fluid-theme .section-view-all-button:focus-visible,
.fluid-theme button.section-view-all-button,
.fluid-theme button.section-view-all-button:hover,
.fluid-theme button.section-view-all-button:focus,
.fluid-theme button.section-view-all-button:active,
.fluid-theme .section-view-all-button:focus-visible {
  outline: none !important;
  border: none !important;
  box-shadow: none !important;
  background: transparent !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  text-shadow: none !important;
  filter: none !important;
}

/* ULTIMATE OVERRIDE - Maximum specificity for section headers and buttons */
html.fluid-theme body div.section-header-no-effects:hover,
html.fluid-theme body div.section-header-no-effects:hover *,
html.fluid-theme body div.section-header-no-effects:hover h2,
html.fluid-theme body div.section-header-no-effects:hover .section-title,
html.fluid-theme body button.section-view-all-button:hover,
html.fluid-theme body button.section-view-all-button:focus,
html.fluid-theme body button.section-view-all-button:active,
html.fluid-theme body .section-view-all-button:hover,
html.fluid-theme body .section-view-all-button:focus,
html.fluid-theme body .section-view-all-button:active {
  box-shadow: none !important;
  text-shadow: none !important;
  filter: none !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  background: transparent !important;
  border: none !important;
  outline: none !important;
  transform: none !important;
  background-color: transparent !important;
  border-color: transparent !important;
}

/* Disable ALL interactive hover effects on these elements */
html.fluid-theme div.section-header-no-effects,
html.fluid-theme div.section-header-no-effects *,
html.fluid-theme button.section-view-all-button,
html.fluid-theme .section-view-all-button {
  pointer-events: auto !important;
  cursor: pointer !important;
}

html.fluid-theme div.section-header-no-effects:hover,
html.fluid-theme button.section-view-all-button:hover {
  transform: none !important;
  transition: none !important;
}

/* ABSOLUTELY FINAL OVERRIDE - Target every possible fluid theme selector */
html.fluid-theme [role="button"]:hover,
html.fluid-theme div[role="button"]:hover,
html.fluid-theme .section-header-control:hover,
html.fluid-theme .section-header-control:hover *,
html.fluid-theme .section-header-control:hover h2,
html.fluid-theme .section-header-control:hover .section-title,
html.fluid-theme div.flex.items-center.justify-between:hover,
html.fluid-theme div.flex.items-center.justify-between:hover *,
html.fluid-theme div.flex.items-center.justify-between:hover h2 {
  box-shadow: none !important;
  text-shadow: none !important;
  filter: none !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  background: transparent !important;
  background-color: transparent !important;
  border: none !important;
  border-color: transparent !important;
  outline: none !important;
  transform: none !important;
  -webkit-transform: none !important;
  transition: none !important;
  -webkit-transition: none !important;
  animation: none !important;
}

/* Override any [data-interactive] selectors */
html.fluid-theme [data-interactive]:hover .section-title,
html.fluid-theme [data-interactive]:hover h2,
html.fluid-theme .section-header-no-effects[data-interactive]:hover,
html.fluid-theme .section-header-no-effects[data-interactive]:hover * {
  transform: none !important;
  box-shadow: none !important;
  filter: none !important;
  background: transparent !important;
}

/* NUCLEAR OPTION - Override fluid theme CSS variables and disable ALL hover effects on these elements */
html.fluid-theme .section-header-no-effects {
  --theme-surface-hover: transparent !important;
  --theme-border-hover: transparent !important;
}

html.fluid-theme .section-header-no-effects:hover,
html.fluid-theme .section-header-no-effects:hover *,
html.fluid-theme .section-header-no-effects:hover h2,
html.fluid-theme .section-header-no-effects:hover .section-title {
  --theme-surface-hover: transparent !important;
  --theme-border-hover: transparent !important;
  --theme-blur-glass: none !important;
  --theme-card-shadow: none !important;
  box-shadow: none !important;
  text-shadow: none !important;
  filter: none !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  background: transparent !important;
  background-color: transparent !important;
  border: none !important;
  border-color: transparent !important;
  outline: none !important;
  transform: none !important;
  -webkit-transform: none !important;
  transition: none !important;
  -webkit-transition: none !important;
  animation: none !important;
  -webkit-animation: none !important;
}

/* Completely disable hover pseudo-class for these elements */
html.fluid-theme .section-header-no-effects:hover {
  pointer-events: auto !important;
}

html.fluid-theme .section-view-all-button {
  --theme-surface-hover: transparent !important;
  --theme-border-hover: transparent !important;
  --theme-blur-glass: none !important;
  --theme-card-shadow: none !important;
}

/* Universal Spacing System - Consistent Gap-2 Layout */
.bins-grid,
.card-grid,
.grid.grid-cols-2 {
  gap: 0.5rem !important; /* 8px - gap-2 equivalent */
}

/* UNIVERSAL NON-CLICKABLE TEXT HOVER EFFECT REMOVAL */
/* Apply the same theme-level approach used for section headers */

/* Dashboard Title and Tagline - Theme Level Override */
html.fluid-theme .site-title,
html.fluid-theme .dashboard-title,
html.fluid-theme .neon-gradient-text,
html.fluid-theme .animate-fade-in-up,
.fluid-theme .site-title,
.fluid-theme .dashboard-title,
.fluid-theme .neon-gradient-text,
.fluid-theme .animate-fade-in-up {
  animation: none !important;
  transition: none !important;
}

html.fluid-theme .site-title:hover,
html.fluid-theme .dashboard-title:hover,
html.fluid-theme .neon-gradient-text:hover,
html.fluid-theme .animate-fade-in-up:hover,
html.fluid-theme h1.site-title.dashboard-title:hover,
html.fluid-theme p.neon-gradient-text:hover,
.fluid-theme .site-title:hover,
.fluid-theme .dashboard-title:hover,
.fluid-theme .neon-gradient-text:hover,
.fluid-theme .animate-fade-in-up:hover,
.fluid-theme h1.site-title.dashboard-title:hover,
.fluid-theme p.neon-gradient-text:hover {
  animation: none !important;
  transition: none !important;
  transform: scaleX(1.1) !important; /* Keep existing transform but no animation */
  filter: none !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  box-shadow: none !important;
  text-shadow: none !important;
  background: transparent !important;
  border: none !important;
  outline: none !important;
  opacity: 1 !important;
  color: inherit !important;
}

/* Non-Clickable Headings - Universal Theme Override */
html.fluid-theme h1:not([role="button"]):not(.clickable):hover,
html.fluid-theme h2:not([role="button"]):not(.clickable):hover,
html.fluid-theme h3:not([role="button"]):not(.clickable):hover,
html.fluid-theme p:not([role="button"]):not(.clickable):hover,
html.fluid-theme span:not([role="button"]):not(.clickable):hover,
.fluid-theme h1:not([role="button"]):not(.clickable):hover,
.fluid-theme h2:not([role="button"]):not(.clickable):hover,
.fluid-theme h3:not([role="button"]):not(.clickable):hover,
.fluid-theme p:not([role="button"]):not(.clickable):hover,
.fluid-theme span:not([role="button"]):not(.clickable):hover {
  transition: none !important;
  animation: none !important;
  transform: none !important;
  filter: none !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  box-shadow: none !important;
  text-shadow: none !important;
  background: transparent !important;
  border: none !important;
  outline: none !important;
  opacity: 1 !important;
  color: inherit !important;
}

.bins-section,
.section-spacing {
  gap: 0.5rem !important; /* 8px - space-y-2 equivalent */
}

/* Welcome Card Brain Icon - Universal Styling */
.welcome-card-brain-icon {
  width: 4rem !important; /* 64px */
  height: 4rem !important; /* 64px */
  background: rgba(34, 197, 94, 0.2) !important; /* green-500/20 */
  border-radius: 50% !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  margin: 0 auto 1rem auto !important;
}

.welcome-card-brain-icon svg {
  width: 2rem !important; /* 32px */
  height: 2rem !important; /* 32px */
  color: rgb(34, 197, 94) !important; /* green-500 */
}

/* Apply to all settings welcome cards globally */
.settings-content .welcome-card-header {
  text-align: center !important;
}

.settings-content .welcome-card-description {
  text-align: center !important;
}

.settings-content .welcome-card-description-left {
  text-align: left !important;
}

.settings-content .welcome-card-content {
  display: flex !important;
  justify-content: center !important;
  align-items: center !important;
}

.welcome-card-button {
  margin: 0 auto !important;
}

/* Universal Welcome Card Styling - Apply to ALL accounts and users */
body.welcome-card-styling .welcome-card-brain-icon,
body .welcome-card-brain-icon,
.welcome-card-brain-icon,
html .welcome-card-brain-icon {
  width: 4rem !important;
  height: 4rem !important;
  background: rgba(34, 197, 94, 0.2) !important;
  border-radius: 50% !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  margin: 0 auto 1rem auto !important;
}

body.welcome-card-styling .welcome-card-brain-icon svg,
body .welcome-card-brain-icon svg,
.welcome-card-brain-icon svg,
html .welcome-card-brain-icon svg {
  width: 2rem !important;
  height: 2rem !important;
  color: rgb(34, 197, 94) !important;
}

body.welcome-card-styling .welcome-card-header,
body .welcome-card-header,
.welcome-card-header,
html .welcome-card-header {
  text-align: center !important;
}

body.welcome-card-styling .welcome-card-description-left,
body .welcome-card-description-left,
.welcome-card-description-left,
html .welcome-card-description-left {
  text-align: left !important;
}

body.welcome-card-styling .welcome-card-content,
body .welcome-card-content,
.welcome-card-content,
html .welcome-card-content {
  display: flex !important;
  justify-content: center !important;
  align-items: center !important;
}

body.welcome-card-styling .welcome-card-button,
body .welcome-card-button,
.welcome-card-button,
html .welcome-card-button {
  margin: 0 auto !important;
}

/* Override any gap-3 with gap-2 universally */
.gap-3 {
  gap: 0.5rem !important; /* Override gap-3 to gap-2 */
}

/* Override any space-y-3 with space-y-2 universally */
.space-y-3 > * + * {
  margin-top: 0.5rem !important; /* Override space-y-3 to space-y-2 */
}

/* Universal Border Radius - 8px Standard */
.tag-chip,
.special-tag-chip,
button,
.button,
input,
textarea,
select,
.card,
.glass-surface,
.thoughtmark-card,
.bin-card,
.fluid-card,
.action-card,
.suggestion-card,
.ai-tool-card,
.settings-toggle-card,
.tooltip-panel,
.floating-panel,
[data-radix-dialog-content],
[data-radix-popover-content],
[data-radix-dropdown-menu-content],
[data-radix-select-content] {
  border-radius: 8px !important;
}

/* Universal Hover Effect Removal for All Interactive Elements */
html.fluid-theme button:hover,
html.fluid-theme .button:hover,
html.fluid-theme input:hover,
html.fluid-theme textarea:hover,
html.fluid-theme select:hover,
html.fluid-theme .card:hover,
html.fluid-theme .glass-surface:hover,
html.fluid-theme .thoughtmark-card:hover,
html.fluid-theme .bin-card:hover,
html.fluid-theme .fluid-card:hover,
html.fluid-theme .action-card:hover,
html.fluid-theme .suggestion-card:hover,
html.fluid-theme .ai-tool-card:hover,
html.fluid-theme .settings-toggle-card:hover,
html.fluid-theme .tooltip-panel:hover,
html.fluid-theme .floating-panel:hover,
html.fluid-theme [data-radix-dialog-content]:hover,
html.fluid-theme [data-radix-popover-content]:hover,
html.fluid-theme [data-radix-dropdown-menu-content]:hover,
html.fluid-theme [data-radix-select-content]:hover,
html.fluid-theme .section-header-no-effects:hover,
html.fluid-theme .section-view-all-button:hover {
  --theme-surface-hover: transparent !important;
  --theme-border-hover: transparent !important;
  --theme-blur-glass: none !important;
  --theme-card-shadow: none !important;
  background: transparent !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  box-shadow: none !important;
  border: none !important;
  outline: none !important;
  text-shadow: none !important;
  filter: none !important;
  transform: none !important;
  animation: none !important;
}

/* Universal Button Styling */
.unified-button {
  border-radius: 8px !important;
  padding: 0.5rem !important;
  gap: 0.5rem !important;
}

/* Universal Card Styling */
.unified-card {
  border-radius: 8px !important;
  padding: 0.5rem !important;
  gap: 0.5rem !important;
}

/* Admin Dashboard Glass Surface Styling */
.glass-surface-admin {
  background: rgba(0, 0, 0, 0.7) !important;
  backdrop-filter: blur(10px) !important;
  -webkit-backdrop-filter: blur(10px) !important;
  border-radius: 12px !important;
  border: 1px solid rgba(255, 255, 255, 0.1) !important;
  min-height: 100vh !important;
}

.glass-surface-admin .stat-card,
.glass-surface-admin .card-standard {
  background: rgba(255, 255, 255, 0.08) !important;
  backdrop-filter: blur(12px) !important;
  -webkit-backdrop-filter: blur(12px) !important;
  border: 1px solid rgba(255, 255, 255, 0.12) !important;
  border-radius: 8px !important;
  color: white !important;
}

.glass-surface-admin h1,
.glass-surface-admin h2,
.glass-surface-admin h3,
.glass-surface-admin h4,
.glass-surface-admin .text-2xl,
.glass-surface-admin .font-bold,
.glass-surface-admin .font-semibold {
  color: white !important;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5) !important;
}

.glass-surface-admin .text-muted-foreground,
.glass-surface-admin .text-sm {
  color: rgba(255, 255, 255, 0.8) !important;
}

.glass-surface-admin .border {
  border-color: rgba(255, 255, 255, 0.12) !important;
}

.glass-surface-admin .bg-green-400,
.glass-surface-admin .bg-orange-400 {
  filter: brightness(1.2) !important;
}

/* Smooth Scrolling for User Management */
.smooth-scroll {
  scroll-behavior: smooth !important;
  scrollbar-width: thin !important;
  scrollbar-color: rgba(255, 255, 255, 0.3) rgba(255, 255, 255, 0.1) !important;
}

.smooth-scroll::-webkit-scrollbar {
  width: 8px !important;
}

.smooth-scroll::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.1) !important;
  border-radius: 4px !important;
}

.smooth-scroll::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.3) !important;
  border-radius: 4px !important;
  transition: background 0.2s ease !important;
}

.smooth-scroll::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.5) !important;
}

/* User Management Page Glass Surface */
.admin-user-management {
  background: rgba(0, 0, 0, 0.6) !important;
  backdrop-filter: blur(8px) !important;
  -webkit-backdrop-filter: blur(8px) !important;
  border-radius: 12px !important;
  border: 1px solid rgba(255, 255, 255, 0.1) !important;
  min-height: 100vh !important;
}

.admin-user-management .bg-gray-900 {
  background: rgba(255, 255, 255, 0.08) !important;
  backdrop-filter: blur(12px) !important;
  -webkit-backdrop-filter: blur(12px) !important;
  border: 1px solid rgba(255, 255, 255, 0.12) !important;
}

.admin-user-management h1,
.admin-user-management h2,
.admin-user-management h3,
.admin-user-management .text-3xl,
.admin-user-management .font-bold {
  color: white !important;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5) !important;
}

.admin-user-management .text-muted-foreground,
.admin-user-management .text-gray-400,
.admin-user-management .text-gray-500 {
  color: rgba(255, 255, 255, 0.7) !important;
}

/* Fix Badge Text Readability in Admin Interfaces */
.admin-user-management .bg-purple-600,
.admin-user-management .bg-green-600,  
.admin-user-management .bg-blue-600,
.admin-user-management .bg-yellow-600,
.admin-user-management .bg-gray-600,
.admin-user-management .bg-red-600,
.admin-user-management .bg-orange-600,
.glass-surface-admin .bg-purple-600,
.glass-surface-admin .bg-green-600,
.glass-surface-admin .bg-blue-600,
.glass-surface-admin .bg-yellow-600,
.glass-surface-admin .bg-gray-600,
.glass-surface-admin .bg-red-600,
.glass-surface-admin .bg-orange-600 {
  color: white !important;
}

/* Badge Component Text Override */
[data-badge] *,
.inline-flex.items-center.rounded-full *,
.badge *,
span[class*="bg-"] {
  color: white !important;
}

/* Universal Badge Text Fix */
.bg-purple-600 *,
.bg-green-600 *,
.bg-blue-600 *,
.bg-yellow-600 *,
.bg-gray-600 *,
.bg-red-600 *,
.bg-orange-600 * {
  color: white !important;
  text-shadow: none !important;
}

/* Specific Badge Component Selector */
.inline-flex.items-center.rounded-full.border.px-2\.5.py-0\.5.text-xs.font-semibold {
  color: white !important;
}

.inline-flex.items-center.rounded-full.border.px-2\.5.py-0\.5.text-xs.font-semibold * {
  color: white !important;
}

/* Universal Selected Tag Styling - Maximum Specificity Override for ALL ACCOUNTS */
html.fluid-theme body div.tag-chip.selected,
html.fluid-theme body div.special-tag-chip.selected,
html.fluid-theme div.tag-chip.selected,
html.fluid-theme div.special-tag-chip.selected,
html.solid-theme body div.tag-chip.selected,
html.solid-theme body div.special-tag-chip.selected,
html.solid-theme div.tag-chip.selected,
html.solid-theme div.special-tag-chip.selected,
html body div.tag-chip.selected,
html body div.special-tag-chip.selected,
.fluid-theme div.tag-chip.selected,
.fluid-theme div.special-tag-chip.selected,
.solid-theme div.tag-chip.selected,
.solid-theme div.special-tag-chip.selected,
* div.tag-chip.selected,
* div.special-tag-chip.selected,
*:not(.override) div.tag-chip.selected,
*:not(.override) div.special-tag-chip.selected,
html * div.tag-chip.selected,
html * div.special-tag-chip.selected,
body * div.tag-chip.selected,
body * div.special-tag-chip.selected,
div.tag-chip.selected,
div.special-tag-chip.selected,
.tag-chip.selected,
.special-tag-chip.selected,
.selected.tag-chip,
.selected.special-tag-chip,
[data-selected="true"].tag-chip,
[data-selected="true"].special-tag-chip {
  background-color: #1e293b !important;
  background: #1e293b !important;
  border: 1px solid #3b82f6 !important;
  border-color: #3b82f6 !important;
  color: #60a5fa !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  box-shadow: none !important;
  font-weight: 600 !important;
  border-radius: 8px !important;
}
