---
description: Enforce comprehensive validation chain for all operations
globs:
  - "**/patch-*.json"
  - "**/validation-*.log"
alwaysApply: true
---
# Startup Tunnel Validation Requirements

## Rules

On `ghost-bridge` or `orchestrator.js` launch:

- Confirm:
  - Ngrok or Cloudflare tunnel is active
  - Port forwarding to `/ghost/status.json` is accessible
  - Healthcheck passes (NB-runner bounded curl): `node scripts/nb.cjs --ttl 10s --label ghost-health --log validations/logs/ghost-health.log --status validations/status -- bash -lc 'curl -sSf http://localhost:8787/ghost/status.json >/dev/null'`

If not:
- Do not mark startup as successful
- Restart after 5s with backoff

---
**Status**: âœ… **ENFORCED - CRITICAL**
**Compliance**: Zero tolerance with automatic violation detection
**Scope**: All operations across all contexts
