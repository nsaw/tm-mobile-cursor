---
alwaysApply: true
---
:::rule
id: nb-runner-enforcement
title: Use NB-runner for any long/IO-bound shell work
scope: repo
intent:
  - Prevent terminal blocking and zombie processes.
requires:
  - Every long/IO-bound command must be wrapped with: `node scripts/nb.cjs --ttl <Xs> --label <name> --log validations/logs/<name>.log --status validations/status -- <cmd>`
  - No direct `timeout`, `& disown`, or `tail -f` usage.
prohibits:
  - **bare grep in shell** (use Node scanners or NB-runner-wrapped tools only)
:::