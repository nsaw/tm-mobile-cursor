:::rule
id: nb-runner-enforcement
title: Use NB-runner for all long/IO-bound work
scope: repo
intent:
  - Prevent terminal blocking and zombie processes
requires:
  - Use: `node scripts/nb.cjs --ttl <Xs> --label <name> --log validations/logs/<name>.log --status validations/status -- <cmd>`
prohibits:
  - `& disown`, raw `timeout`, infinite `tail -f`, brace-group spawns `{ ... } &`, `$!`
  - **bare grep in shell** (use Node scanners or NB-runner-wrapped tools only)
:::
description:
globs:
alwaysApply: false
---
